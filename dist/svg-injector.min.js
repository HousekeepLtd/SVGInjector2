/**
 * SVGInjector v1.2.1 - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(e,t){"use strict";var n=function(){function n(e){this.init(e)}var o,c,u,f,p,d,v="http://www.w3.org/2000/svg",m="http://www.w3.org/1999/xlink",g="sprite",y=g+"--",b=[g],h="icon";n.prototype.init=function(n){n=n||{},o={},d={},d.isLocal="file:"===e.location.protocol,d.hasSvgSupport=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),c={count:0,elements:[]},u=[],f={},p={},p.evalScripts=n.evalScripts||"always",p.pngFallback=n.pngFallback||!1,p.onlyInjectVisiblePart=n.onlyInjectVisiblePart||!0,p.keepStylesClass="undefined"==typeof n.keepStylesClass?"":n.keepStylesClass,p.spriteClassName="undefined"==typeof n.spriteClassName?g:n.spriteClassName,p.spriteClassIdName="undefined"==typeof n.spriteClassIdName?y:n.spriteClassIdName,p.removeStylesClass="undefined"==typeof n.removeStylesClass?h:n.removeStylesClass,p.removeAllStyles="undefined"==typeof n.removeAllStyles?!1:n.removeAllStyles,p.fallbackClassName="undefined"==typeof n.fallbackClassName?b:n.fallbackClassName,p.prefixStyleTags="undefined"==typeof n.prefixStyleTags?!0:n.prefixStyleTags,p.spritesheetURL="undefined"==typeof n.spritesheetURL||""===n.spritesheetURL?!1:n.spritesheetURL,p.prefixFragIdClass=p.spriteClassIdName,p.forceFallbacks="undefined"==typeof n.forceFallbacks?!1:n.forceFallbacks,p.forceFallbacks&&(d.hasSvgSupport=!1),F(t.querySelector("html"),"no-svg",d.hasSvgSupport),d.hasSvgSupport&&"undefined"==typeof n.removeStylesClass&&V(p.removeStylesClass)},n.prototype.inject=function(e,t,n){if(void 0!==e.length){var r=0,a=this;i.call(e,function(s){a.injectElement(s,function(a){n&&"function"==typeof n&&n(a),t&&e.length===++r&&t(r)})})}else e?this.injectElement(e,function(r){n&&"function"==typeof n&&n(r),t&&t(1),e=null}):t&&t(0)},n.prototype.injectElement=function(e,t){var n;p.spritesheetURL===!1?n=e.getAttribute("data-src")||e.getAttribute("src"):(n=p.spritesheetURL+"#"+j(e),e.setAttribute("data-src",n));var r,i=n.split("#");if(!/\.svg/i.test(n))return void t("Attempted to inject a file with a non-svg extension: "+n);if(!d.hasSvgSupport){var o=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(o?(e.setAttribute("src",o),t(null)):p.pngFallback?(r=i.length>1?i[1]+".png":n.split("/").pop().replace(".svg",".png"),s(p.fallbackClassName)?S(e,i[1],p.fallbackClassName):a(p.fallbackClassName)?p.fallbackClassName(e,i[1]):"string"==typeof p.fallbackClassName?l(e,p.fallbackClassName):e.setAttribute("src",p.pngFallback+"/"+r),t(null)):t("This browser does not support SVG and no PNG fallback was defined."))}s(p.fallbackClassName)&&A(e,i[1],p.fallbackClassName),-1===c.elements.indexOf(e)&&(c.elements.push(e),e.setAttribute("src",""),G(t,n,e))},n.prototype.getEnv=function(){return d};var S=function(e,t,n){var r="undefined"==typeof n?b:n.slice(0);i.call(r,function(e,n){r[n]=e.replace("%s",t)}),l(e,r)},A=function(e,t,n){n="undefined"==typeof n?b.slice(0):n.slice(0);var a=e.getAttribute("class");a&&(i.call(n,function(e){e=e.replace("%s",t),a.indexOf(e)>=0&&(a=a.replace(e,""))}),e.setAttribute("class",r(a)))},C=function(e,t){var n,r,a,s=[{def:"linearGradient",attr:"fill"},{def:"radialGradient",attr:"fill"},{def:"clipPath",attr:"clip-path"},{def:"mask",attr:"mask"},{def:"filter",attr:"filter"}];i.call(s,function(s){n=s.def,r=s.attr;for(var l=e.querySelectorAll(n+"[id]"),i=0,o=l.length;o>i;i++){a=l[i].id+"-"+t;for(var c=e.querySelectorAll("["+r+'*="'+l[i].id+'"]'),u=0,f=c.length;f>u;u++)c[u].setAttribute(r,"url(#"+a+")");l[i].id=a}})},x=function(e,t,n){var r;"undefined"==typeof n&&(n=["id","viewBox"]);for(var a=0;a<e.attributes.length;a++)r=e.attributes.item(a),n.indexOf(r.name)<0&&t.setAttribute(r.name,r.value)},w=function(e){var n=t.createElementNS(v,"svg");return i.call(e.childNodes,function(e){n.appendChild(e.cloneNode(!0))}),x(e,n),n},N=function(e,t,n){var r=n.getAttribute("data-src").split("#");if(r.length>1){var a=r[1],s=new RegExp("\\."+a+" ","g"),l=a+"-"+t;e.textContent=e.textContent.replace(s,"."+l+" "),n.setAttribute("class",n.getAttribute("class")+" "+l)}},k=function(e){var t=e.getAttribute("class");return t?t.split(" "):[]},j=function(e){var t=k(e),n="";return i.call(t,function(e){e.indexOf(p.spriteClassIdName)>=0&&(n=e.replace(p.spriteClassIdName,""))}),n},E=function(e,t,n){var r,a,s,l,i,o,c=!1,u=null;if(void 0===n)return t.cloneNode(!0);if(r=t.getElementById(n)){if(l=r.getAttribute("viewBox"),s=l.split(" "),r instanceof SVGSymbolElement)a=w(r),c=!0;else if(r instanceof SVGViewElement){if(u=null,e.onlyInjectVisiblePart){var f='*[width="'+s[2]+'"][height="'+s[3]+'"]';i={},Math.abs(parseInt(s[0]))>0&&(i.x=s[0],f+='[x="'+s[0]+'"]'),Math.abs(parseInt(s[1]))>0&&(i.y=s[1],f+='[y="'+s[1]+'"]'),u=t.querySelector(f)}if(u&&u instanceof SVGSVGElement){a=u.cloneNode(!0);for(var p in i)"width"!==p&&"height"!==p&&a.removeAttribute(p)}else if(u&&u instanceof SVGUseElement){var d=t.getElementById(u.getAttributeNS(m,"href").substr(1));a=w(d),l=d.getAttribute("viewBox"),s=l.split(" "),c=!0}else c=!0,a=t.cloneNode(!0)}c&&(a.setAttribute("viewBox",s.join(" ")),a.setAttribute("width",s[2]+"px"),a.setAttribute("height",s[3]+"px")),o=k(a);var v=e.prefixFragIdClass+n;return o.indexOf(v)<0&&(o.push(v),a.setAttribute("class",o.join(" "))),a}},T=function(e,t,n,r){u[e]=u[e]||[],u[e].push({callback:n,fragmentId:t,element:r})},I=function(e){for(var t,n=0,r=u[e].length;r>n;n++)!function(n){setTimeout(function(){t=u[e][n],L(e,t.fragmentId,t.callback,t.element)},0)}(n)},G=function(t,n,r){var a,s,l;if(a=n.split("#"),s=a[0],l=2===a.length?a[1]:void 0,void 0!==o[s])o[s]instanceof SVGSVGElement?L(s,l,t,r):T(s,l,t,r);else{if(!e.XMLHttpRequest)return t("Browser does not support XMLHttpRequest"),!1;o[s]={},T(s,l,t,r);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(404===i.status||null===i.responseXML)return t("Unable to load SVG file: "+s),!1;if(!(200===i.status||d.isLocal&&0===i.status))return t("There was a problem injecting the SVG: "+i.status+" "+i.statusText),!1;if(i.responseXML instanceof Document)o[s]=i.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{var r=new DOMParser;e=r.parseFromString(i.responseText,"text/xml")}catch(a){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return t("Unable to parse SVG file: "+n),!1;o[s]=e.documentElement}I(s)}},i.open("GET",s),i.overrideMimeType&&i.overrideMimeType("text/xml"),i.send()}},V=function(e){var n="svg."+e+" {fill: currentColor;}",r=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=n:a.appendChild(t.createTextNode(n)),r.appendChild(a)},F=function(e,t,n){n?e.className.replace(t,""):e.className+=" "+t},L=function(t,n,a,s){var l=E(p,o[t],n);if("undefined"==typeof l||"string"==typeof l)return a(l),!1;var u=s.getAttribute("id");u&&l.setAttribute("id",u);var d=s.getAttribute("title");d&&l.setAttribute("title",d);var v=[].concat(l.getAttribute("class")||[],"injected-svg",s.getAttribute("class")||[]).join(" ");l.setAttribute("class",r(v));var m=s.getAttribute("style");m&&l.setAttribute("style",m);var g=[].filter.call(s.attributes,function(e){return/^data-\w[\w\-]*$/.test(e.name)});i.call(g,function(e){e.name&&e.value&&l.setAttribute(e.name,e.value)});var y=s.getAttribute("preserveAspectRatio");y&&l.setAttribute("preserveAspectRatio",y),C(l,c.count),l.removeAttribute("xmlns:a");for(var b,h,S=l.querySelectorAll("script"),A=[],x=0,w=S.length;w>x;x++)h=S[x].getAttribute("type"),h&&"application/ecmascript"!==h&&"application/javascript"!==h||(b=S[x].innerText||S[x].textContent,A.push(b),l.removeChild(S[x]));if(A.length>0&&("always"===p.evalScripts||"once"===p.evalScripts&&!f[t])){for(var j=0,T=A.length;T>j;j++)new Function(A[j])(e);f[t]=!0}var I=l.querySelectorAll("style");i.call(I,function(e){var t=k(l);(t.indexOf(p.removeStylesClass)>=0||p.removeAllStyles)&&t.indexOf(p.keepStylesClass)<0?e.parentNode.removeChild(e):p.prefixStyleTags?N(e,c.count,l):e.textContent+=""}),s.parentNode.replaceChild(l,s),delete c.elements[c.elements.indexOf(s)],c.count++,a(l)};return n}(),r=function(e){e=e.split(" ");for(var t={},n=e.length,r=[];n--;)t.hasOwnProperty(e[n])||(t[e[n]]=1,r.unshift(e[n]));return r.join(" ")},a=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},s=function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=function(e,t){var n=e.getAttribute("class");n=n?n:"",s(t)&&(t=t.join(" ")),t=n+" "+t,e.setAttribute("class",r(t))},i=Array.prototype.forEach||function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;var n,r=this.length>>>0;for(n=0;r>n;++n)n in this&&e.call(t,this[n],n,this)};"object"==typeof module&&"object"==typeof module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof e&&(e.SVGInjector=n)}(window,document);
//# sourceMappingURL=svg-injector.map.js