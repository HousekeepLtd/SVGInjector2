/**
 * SVGInjector v2.0.0 - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/flobacher/SVGInjector2
 * forked from:
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2015 flobacher <flo@digital-fuse.net>
 * @license MIT
 *
 * original Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(e,t){"use strict";var r=function(){function r(e){r.instanceCounter++,"undefined"!=typeof e&&this.init(e)}var n,s,i,l,a,o,c,u,f,p,d,m,v,g,h,y,b,S,A,x,C,w,N,k,j,E,I,T,G="http://www.w3.org/2000/svg",V="http://www.w3.org/1999/xlink",F="sprite",O=F+"--",L=[F],R="icon";return i=[],r.instanceCounter=0,r.prototype.init=function(r){r=r||{},n={},o={},o.isLocal="file:"===e.location.protocol,o.hasSvgSupport=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),s={count:0,elements:[]},l={},a={},a.evalScripts=r.evalScripts||"always",a.pngFallback=r.pngFallback||!1,a.onlyInjectVisiblePart=r.onlyInjectVisiblePart||!0,a.keepStylesClass="undefined"==typeof r.keepStylesClass?"":r.keepStylesClass,a.spriteClassName="undefined"==typeof r.spriteClassName?F:r.spriteClassName,a.spriteClassIdName="undefined"==typeof r.spriteClassIdName?O:r.spriteClassIdName,a.removeStylesClass="undefined"==typeof r.removeStylesClass?R:r.removeStylesClass,a.removeAllStyles="undefined"==typeof r.removeAllStyles?!1:r.removeAllStyles,a.fallbackClassName="undefined"==typeof r.fallbackClassName?L:r.fallbackClassName,a.prefixStyleTags="undefined"==typeof r.prefixStyleTags?!0:r.prefixStyleTags,a.spritesheetURL="undefined"==typeof r.spritesheetURL||""===r.spritesheetURL?!1:r.spritesheetURL,a.prefixFragIdClass=a.spriteClassIdName,a.forceFallbacks="undefined"==typeof r.forceFallbacks?!1:r.forceFallbacks,a.forceFallbacks&&(o.hasSvgSupport=!1),x(t.querySelector("html"),"no-svg",o.hasSvgSupport),o.hasSvgSupport&&"undefined"==typeof r.removeStylesClass&&A(a.removeStylesClass)},r.prototype.inject=function(e,t,r){if(void 0!==e.length){var n=0,s=this;E.call(e,function(i){s.injectElement(i,function(s){r&&"function"==typeof r&&r(s),t&&e.length===++n&&t(n)})})}else e?this.injectElement(e,function(n){r&&"function"==typeof r&&r(n),t&&t(1),e=null}):t&&t(0)},r.prototype.injectElement=function(e,t){var r,n;if(a.spritesheetURL===!1||e.getAttribute("data-src")||e.getAttribute("src"))r=e.getAttribute("data-src")||e.getAttribute("src");else{if(n=g(e),""===n)return;r=a.spritesheetURL+"#"+n,e.setAttribute("data-src",r)}var i=r.split("#");1===i.length&&i.push("");var l;if(!/\.svg/i.test(r))return void t("Attempted to inject a file with a non-svg extension: "+r);if(!o.hasSvgSupport){var f=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(f?(e.setAttribute("src",f),t(null)):a.pngFallback?(l=i.length>1?i[1]+".png":r.split("/").pop().replace(".svg",".png"),k(a.fallbackClassName)?c(e,i[1],a.fallbackClassName):N(a.fallbackClassName)?a.fallbackClassName(e,i[1]):"string"==typeof a.fallbackClassName?j(e,a.fallbackClassName):e.setAttribute("src",a.pngFallback+"/"+l),t(null)):t("This browser does not support SVG and no PNG fallback was defined."))}k(a.fallbackClassName)&&u(e,i[1],a.fallbackClassName),-1===s.elements.indexOf(e)&&(s.elements.push(e),e.setAttribute("src",""),S(t,r,e))},r.prototype.getEnv=function(){return o},c=function(e,t,r){var n="undefined"==typeof r?L:r.slice(0);E.call(n,function(e,r){n[r]=e.replace("%s",t)}),j(e,n)},u=function(e,t,r){r="undefined"==typeof r?L.slice(0):r.slice(0);var n,s,i=e.getAttribute("class");"undefined"!=typeof i&&null!==i&&(s=i.split(" "),s&&(E.call(r,function(e){e=e.replace("%s",t),n=s.indexOf(e),n>=0&&(s[n]="")}),e.setAttribute("class",w(s.join(" ")))))},f=function(e,t){var r,n,s,i,l,a,o,c,u,f,p,d,m,v,g,h,y=[{def:"linearGradient",attrs:["fill","stroke"]},{def:"radialGradient",attrs:["fill","stroke"]},{def:"clipPath",attrs:["clip-path"]},{def:"mask",attrs:["mask"]},{def:"filter",attrs:["filter"]},{def:"color-profile",attrs:["color-profile"]},{def:"cursor",attrs:["cursor"]},{def:"marker",attrs:["marker","marker-start","marker-mid","marker-end"]}];E.call(y,function(y){for(n=e.querySelectorAll(y.def+"[id]"),i=0,s=n.length;s>i;i++){for(r=n[i].id+"-"+t,c=y.attrs,f=0,u=c.length;u>f;f++)for(l=e.querySelectorAll("["+c[f]+'="url(#'+n[i].id+')"]'),o=0,a=l.length;a>o;o++)l[o].setAttribute(c[f],"url(#"+r+")");for(p=e.querySelectorAll("[*|href]"),v=[],m=0,d=p.length;d>m;m++)p[m].getAttributeNS(V,"href").toString()==="#"+n[i].id&&v.push(p[m]);for(h=0,g=v.length;g>h;h++)v[h].setAttributeNS(V,"href","#"+r);n[i].id=r}})},p=function(e,t,r){var n;"undefined"==typeof r&&(r=["id","viewBox"]);for(var s=0;s<e.attributes.length;s++)n=e.attributes.item(s),r.indexOf(n.name)<0&&t.setAttribute(n.name,n.value)},d=function(e){var r=t.createElementNS(G,"svg");return E.call(e.childNodes,function(e){r.appendChild(e.cloneNode(!0))}),p(e,r),r},m=function(e,t,r){var n,s,i,l,a,o,c=r.getAttribute("data-src").split("#"),u=e.textContent,f="",p=function(e,t,r){r[t]="."+i+" "+e};if(c.length>1)s=c[1],i=s+"-"+t,n=new RegExp("\\."+s+" ","g"),e.textContent=u.replace(n,"."+i+" ");else{for(l=c[0].split("/"),i=l[l.length-1].replace(".svg","")+"-"+t,n=new RegExp("([\\s\\S]*?){([\\s\\S]*?)}","g");null!==(a=n.exec(u));){o=a[1].trim().split(", "),o.forEach(p);var d=o.join(", ")+"{"+a[2]+"}";f+=d}e.textContent=f}r.setAttribute("class",r.getAttribute("class")+" "+i)},v=function(e){var t=e.getAttribute("class").trim();return t?t.split(" "):[]},g=function(e){var t=v(e),r="";return E.call(t,function(e){e.indexOf(a.spriteClassIdName)>=0&&(r=e.replace(a.spriteClassIdName,""))}),r},h=function(e,t,r){var n,s,i,l,a,o,c=!1,u=null;if(void 0===r)return t.cloneNode(!0);if(n=t.getElementById(r)){if(l=n.getAttribute("viewBox"),i=l.split(" "),n instanceof SVGSymbolElement)s=d(n),c=!0;else if(n instanceof SVGViewElement){if(u=null,e.onlyInjectVisiblePart){var f='*[width="'+i[2]+'"][height="'+i[3]+'"]';a={},0===Math.abs(parseInt(i[0]))?f+=":not([x])":(a.x=i[0],f+='[x="'+i[0]+'"]'),0===Math.abs(parseInt(i[1]))?f+=":not([y])":(a.y=i[1],f+='[y="'+i[1]+'"]');var p=t.querySelectorAll(f);p.length>1,u=p[0]}if(u&&u instanceof SVGSVGElement){s=u.cloneNode(!0);for(var m in a)"width"!==m&&"height"!==m&&s.removeAttribute(m)}else if(u&&u instanceof SVGUseElement){var g=t.getElementById(u.getAttributeNS(V,"href").substr(1));s=d(g),l=g.getAttribute("viewBox"),i=l.split(" "),c=!0}else c=!0,s=t.cloneNode(!0)}c&&(s.setAttribute("viewBox",i.join(" ")),s.setAttribute("width",i[2]+"px"),s.setAttribute("height",i[3]+"px")),s.setAttribute("xmlns",G),s.setAttribute("xmlns:xlink",V),o=v(s);var h=e.prefixFragIdClass+r;return o.indexOf(h)<0&&(o.push(h),s.setAttribute("class",o.join(" "))),s}},y=function(e,t,r,n){i[e]=i[e]||[],i[e].push({callback:r,fragmentId:t,element:n})},b=function(e){for(var t,r=0,n=i[e].length;n>r;r++)!function(r){setTimeout(function(){t=i[e][r],C(e,t.fragmentId,t.callback,t.element)},0)}(r)},S=function(t,r,s){var i,l,a;if(i=r.split("#"),l=i[0],a=2===i.length?i[1]:void 0,void 0!==n[l])n[l]instanceof SVGSVGElement?C(l,a,t,s):y(l,a,t,s);else{if(!e.XMLHttpRequest)return t("Browser does not support XMLHttpRequest"),!1;n[l]={},y(l,a,t,s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(404===c.status||null===c.responseXML)return t("Unable to load SVG file: "+l),!1;if(!(200===c.status||o.isLocal&&0===c.status))return t("There was a problem injecting the SVG: "+c.status+" "+c.statusText),!1;if(c.responseXML instanceof Document)n[l]=c.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{var s=new DOMParser;e=s.parseFromString(c.responseText,"text/xml")}catch(i){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return t("Unable to parse SVG file: "+r),!1;n[l]=e.documentElement}b(l)}},c.open("GET",l),c.overrideMimeType&&c.overrideMimeType("text/xml"),c.send()}},A=function(e){var r="svg."+e+" {fill: currentColor;}",n=t.head||t.getElementsByTagName("head")[0],s=t.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=r:s.appendChild(t.createTextNode(r)),n.appendChild(s)},x=function(e,t,r){r?e.className.replace(t,""):e.className+=" "+t},C=function(t,r,i,o){var c,u,p,d;if(c=h(a,n[t],r),"undefined"==typeof c||"string"==typeof c)return i(c),!1;u=o.getAttribute("id"),u&&c.setAttribute("id",u),c.setAttribute("role","img"),E.call(c.children||[],function(e){e instanceof SVGDefsElement||e.setAttribute("role","presentation")}),d=I("desc",c,o,r),p=I("title",c,o,r),c.setAttribute("aria-labelledby",p+" "+d);var g=[].concat(c.getAttribute("class")||[],"injected-svg",o.getAttribute("class")||[]).join(" ");c.setAttribute("class",w(g));var y=o.getAttribute("style");y&&c.setAttribute("style",y);var b=[].filter.call(o.attributes,function(e){return/^data-\w[\w\-]*$/.test(e.name)});E.call(b,function(e){e.name&&e.value&&c.setAttribute(e.name,e.value)});var S=o.getAttribute("preserveAspectRatio");S&&c.setAttribute("preserveAspectRatio",S),f(c,s.count),c.removeAttribute("xmlns:a");for(var A,x,C=c.querySelectorAll("script"),N=[],k=0,j=C.length;j>k;k++)x=C[k].getAttribute("type"),x&&"application/ecmascript"!==x&&"application/javascript"!==x||(A=C[k].innerText||C[k].textContent,N.push(A),c.removeChild(C[k]));if(N.length>0&&("always"===a.evalScripts||"once"===a.evalScripts&&!l[t])){for(var T=0,G=N.length;G>T;T++)new Function(N[T])(e);l[t]=!0}var V=c.querySelectorAll("style");E.call(V,function(e){var t=v(c);(t.indexOf(a.removeStylesClass)>=0||a.removeAllStyles)&&t.indexOf(a.keepStylesClass)<0?e.parentNode.removeChild(e):a.prefixStyleTags?m(e,s.count,c):e.textContent+=""}),o.parentNode.replaceChild(c,o),delete s.elements[s.elements.indexOf(o)],s.count++,i(c)},w=function(e){e=e.split(" ");for(var t={},r=e.length,n=[];r--;)t.hasOwnProperty(e[r])||(t[e[r]]=1,n.unshift(e[r]));return n.join(" ")},N=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},k=function(e){return"[object Array]"===Object.prototype.toString.call(e)},j=function(e,t){var r=e.getAttribute("class");r=r?r:"",k(t)&&(t=t.join(" ")),t=r+" "+t,e.setAttribute("class",w(t))},E=Array.prototype.forEach||function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;var r,n=this.length>>>0;for(r=0;n>r;++r)r in this&&e.call(t,this[r],r,this)},I=function(e,t,r,n){var i,l=n+"-"+e+"-"+s.count;return i=r.querySelector(e),i?T(e,t,i.textContent,l,t.firstChild):(i=t.querySelector(e),i?i.setAttribute("id",l):T(e,t,n,l,t.firstChild)),l},T=function(e,r,n,s,i){var l,a=r.querySelector(e);return a&&a.parentNode.removeChild(a),l=t.createElementNS(G,e),l.appendChild(t.createTextNode(n)),l.setAttributeNS(G,"id",s),r.insertBefore(l,i),l},r}();"object"==typeof angular?angular.module("svginjector",[]).provider("svgInjectorOptions",function(){var e={};return{set:function(t){e=t},$get:function(){return e}}}).factory("svgInjectorFactory",["svgInjectorOptions",function(e){return new r(e)}]).directive("svg",["svgInjectorFactory",function(e){return{restrict:"E",link:function(t,r,n){n.hasOwnProperty("class")?n.$observe("class",function(){e.inject(r[0])}):e.inject(r[0])}}}]):"object"==typeof module&&"object"==typeof module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):"object"==typeof e&&(e.SVGInjector=r)}(window,document);
//# sourceMappingURL=svg-injector.map.js