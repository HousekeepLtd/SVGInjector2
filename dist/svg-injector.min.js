/**
 * SVGInjector v1.1.3-RC - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(e,t){"use strict";function n(e){e=e.split(" ");for(var t={},n=e.length,r=[];n--;)t.hasOwnProperty(e[n])||(t[e[n]]=1,r.unshift(e[n]));return r.join(" ")}function r(e){return!!(e&&e.constructor&&e.call&&e.apply)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(e,t){var r=e.getAttribute("class");r=r?r:"",i(t)&&(t=t.join(" ")),t=r+" "+t,e.setAttribute("class",n(t))}function s(e,t,n){var r="undefined"==typeof n?g:n.slice(0);m.call(r,function(e,n){r[n]=e.replace("%s",t)}),l(e,r)}function a(e,t,r){r="undefined"==typeof r?g.slice(0):r.slice(0);var i=e.getAttribute("class");i&&(m.call(r,function(e,n){e=e.replace("%s",t),i.indexOf(e)>=0&&(i=i.replace(e,""))}),e.setAttribute("class",n(i)))}var o,u,c,f,p,d="http://www.w3.org/2000/svg",v="http://www.w3.org/1999/xlink",g=["%s","svg-sprite"],h="icon",y="file:"===e.location.protocol,b=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),m=Array.prototype.forEach||function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;var n,r=this.length>>>0;for(n=0;r>n;++n)n in this&&e.call(t,this[n],n,this)},A={},w=0,S=[],x=[],j={},N=function(e,t,n){var r;"undefined"==typeof n&&(n=["id","viewBox"]);for(var i=0;i<e.attributes.length;i++)r=e.attributes.item(i),n.indexOf(r.name)<0&&t.setAttribute(r.name,r.value)},E=function(e){var n=t.createElementNS(d,"svg");return m.call(e.childNodes,function(e){n.appendChild(e.cloneNode(!0))}),N(e,n),n},T=function(e,t,n){var r=n.getAttribute("data-src").split("#");if(r.length>1){var i=r[1],l=new RegExp("\\."+i+" ","g"),s=i+"-"+t;e.textContent=e.textContent.replace(l,"."+s+" "),n.setAttribute("class",n.getAttribute("class")+" "+s)}},C=function(e){var t=e.getAttribute("class");return t?t.split(" "):[]},G=function(e,t){var n,r,i,l,s,a,u=!1,c=null;if(void 0===t)return e.cloneNode(!0);if(n=e.getElementById(t)){if(l=n.getAttribute("viewBox"),i=l.split(" "),n instanceof SVGSymbolElement)r=E(n),u=!0;else if(n instanceof SVGViewElement){if(c=null,o){var f='*[width="'+i[2]+'"][height="'+i[3]+'"]';s={},Math.abs(i[0])>0&&(s.x=i[0],f+='[x="'+i[0]+'"]'),Math.abs(i[1])>0&&(s.y=i[1],f+='[y="'+i[1]+'"]'),c=e.querySelector(f)}if(c&&c instanceof SVGSVGElement){r=c.cloneNode(!0);for(var p in s)"width"!==p&&"height"!==p&&r.removeAttribute(p)}else if(c&&c instanceof SVGUseElement){var d=e.getElementById(c.getAttributeNS(v,"href").substr(1));r=E(d),l=d.getAttribute("viewBox"),i=l.split(" "),u=!0}else u=!0,r=e.cloneNode(!0)}return u&&(r.setAttribute("viewBox",i.join(" ")),r.setAttribute("width",i[2]+"px"),r.setAttribute("height",i[3]+"px")),a=C(r),a.indexOf(t)<0&&(a.push(t),r.setAttribute("class",a.join(" "))),r}},V=function(e,t,n){x[t]=x[t]||[],x[t].push({callback:e,fragmentId:n})},k=function(e){for(var t=0,n=x[e].length;n>t;t++)!function(t){setTimeout(function(){x[e][t].callback(G(A[e],x[e][t].fragmentId))},0)}(t)},M=function(t,n){var r,i,l;if(r=t.split("#"),i=r[0],l=2===r.length?r[1]:void 0,void 0!==A[i])A[i]instanceof SVGSVGElement?n(G(A[i],l)):V(n,i,l);else{if(!e.XMLHttpRequest)return n("Browser does not support XMLHttpRequest"),!1;A[i]={},V(n,i,l);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState){if(404===s.status||null===s.responseXML)return n("Unable to load SVG file: "+i),y&&n("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),n(),!1;if(!(200===s.status||y&&0===s.status))return n("There was a problem injecting the SVG: "+s.status+" "+s.statusText),!1;if(s.responseXML instanceof Document)A[i]=s.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{var r=new DOMParser;e=r.parseFromString(s.responseText,"text/xml")}catch(l){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return n("Unable to parse SVG file: "+t),!1;A[i]=e.documentElement}k(i)}},s.open("GET",i),s.overrideMimeType&&s.overrideMimeType("text/xml"),s.send()}},O=function(t,o,d,v){var g,h=t.getAttribute("data-src")||t.getAttribute("src"),y=h.split("#");if(!/\.svg/i.test(h))return void v("Attempted to inject a file with a non-svg extension: "+h);if(!b){var A=t.getAttribute("data-fallback")||t.getAttribute("data-png");return void(A?(t.setAttribute("src",A),v(null)):d?(g=y.length>1?y[1]+".png":h.split("/").pop().replace(".svg",".png"),i(c)?s(t,y[1],c):r(c)?c(t,y[1]):"string"==typeof c?l(t,c):t.setAttribute("src",d+"/"+g),v(null)):v("This browser does not support SVG and no PNG fallback was defined."))}i(c)&&a(t,y[1],c),-1===S.indexOf(t)&&(S.push(t),t.setAttribute("src",""),M(h,function(r){if("undefined"==typeof r||"string"==typeof r)return v(r),!1;var i=t.getAttribute("id");i&&r.setAttribute("id",i);var l=t.getAttribute("title");l&&r.setAttribute("title",l);var s=[].concat(r.getAttribute("class")||[],"injected-svg",t.getAttribute("class")||[]).join(" ");r.setAttribute("class",n(s));var a=t.getAttribute("style");a&&r.setAttribute("style",a);var c=[].filter.call(t.attributes,function(e){return/^data-\w[\w\-]*$/.test(e.name)});m.call(c,function(e){e.name&&e.value&&r.setAttribute(e.name,e.value)});for(var d,g=r.querySelectorAll("defs clipPath[id]"),y=0,b=g.length;b>y;y++){d=g[y].id+"-"+w;for(var A=r.querySelectorAll('[clip-path*="'+g[y].id+'"]'),x=0,N=A.length;N>x;x++)A[x].setAttribute("clip-path","url(#"+d+")");g[y].id=d}for(var E,G=r.querySelectorAll("defs mask[id]"),V=0,k=G.length;k>V;V++){E=G[V].id+"-"+w;for(var M=r.querySelectorAll('[mask*="'+G[V].id+'"]'),O=0,q=M.length;q>O;O++)M[O].setAttribute("mask","url(#"+E+")");G[V].id=E}r.removeAttribute("xmlns:a");for(var B,P,F=r.querySelectorAll("script"),I=[],L=0,X=F.length;X>L;L++)P=F[L].getAttribute("type"),P&&"application/ecmascript"!==P&&"application/javascript"!==P||(B=F[L].innerText||F[L].textContent,I.push(B),r.removeChild(F[L]));if(I.length>0&&("always"===o||"once"===o&&!j[h])){for(var R=0,D=I.length;D>R;R++)new Function(I[R])(e);j[h]=!0}var H=r.querySelectorAll("style");m.call(H,function(e){var t=C(r);t.indexOf(u)>=0||p?e.parentNode.removeChild(e):f?T(e,w,r):e.textContent+=""}),t.parentNode.replaceChild(r,t),delete S[S.indexOf(t)],t=null,w++,v(r)}))},q=function(e,n,r){n=n||{};var i=n.evalScripts||"always",l=n.pngFallback||!1;o=n.onlyInjectVisiblePart||!0,u="undefined"==typeof n.removeStylesClass?h:n.removeStylesClass,p="undefined"==typeof n.removeAllStyles?!1:n.removeAllStyles,c="undefined"==typeof n.fallbackClassName?g:n.fallbackClassName,f="undefined"==typeof n.prefixStyleTags?!0:n.prefixStyleTags,n.forceFallbacks&&(b=!1);var s=n.each,a=t.querySelector("html");if(b){if(a.className.replace("no-svg",""),"undefined"==typeof n.removeStylesClass){var d="svg."+u+" {fill: currentColor;}",v=t.head||t.getElementsByTagName("head")[0],y=t.createElement("style");y.type="text/css",y.styleSheet?y.styleSheet.cssText=d:y.appendChild(t.createTextNode(d)),v.appendChild(y)}}else a.className+=" no-svg";if(void 0!==e.length){var A=0;m.call(e,function(t){O(t,i,l,function(t){s&&"function"==typeof s&&s(t),r&&e.length===++A&&r(A)})})}else e?O(e,i,l,function(t){s&&"function"==typeof s&&s(t),r&&r(1),e=null}):r&&r(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=q:"function"==typeof define&&define.amd?define(function(){return q}):"object"==typeof e&&(e.SVGInjector=q)}(window,document);
//# sourceMappingURL=svg-injector.map.js