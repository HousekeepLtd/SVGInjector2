/**
 * SVGInjector v1.2.1 - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(e,t){"use strict";function n(e){e=e.split(" ");for(var t={},n=e.length,r=[];n--;)t.hasOwnProperty(e[n])||(t[e[n]]=1,r.unshift(e[n]));return r.join(" ")}function r(e){return!!(e&&e.constructor&&e.call&&e.apply)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e,t){var r=e.getAttribute("class");r=r?r:"",i(t)&&(t=t.join(" ")),t=r+" "+t,e.setAttribute("class",n(t))}function s(e,t,n){var r="undefined"==typeof n?S:n.slice(0);G.call(r,function(e,n){r[n]=e.replace("%s",t)}),a(e,r)}function l(e,t,r){r="undefined"==typeof r?S.slice(0):r.slice(0);var i=e.getAttribute("class");i&&(G.call(r,function(e,n){e=e.replace("%s",t),i.indexOf(e)>=0&&(i=i.replace(e,""))}),e.setAttribute("class",n(i)))}function o(e,t){var n,r,i,a=[{def:"linearGradient",attr:"fill"},{def:"radialGradient",attr:"fill"},{def:"clipPath",attr:"clip-path"},{def:"mask",attr:"mask"},{def:"filter",attr:"filter"}];G.call(a,function(a){n=a.def,r=a.attr;for(var s=e.querySelectorAll(n+"[id]"),l=0,o=s.length;o>l;l++){i=s[l].id+"-"+t;for(var u=e.querySelectorAll("["+r+'*="'+s[l].id+'"]'),c=0,f=u.length;f>c;c++)u[c].setAttribute(r,"url(#"+i+")");s[l].id=i}})}var u,c,f,p,d,v,g,h,y="http://www.w3.org/2000/svg",b="http://www.w3.org/1999/xlink",m="sprite",A=m+"--",w=m,x=A,S=[x+"%s",w],C="icon",N="file:"===e.location.protocol,j=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),G=Array.prototype.forEach||function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;var n,r=this.length>>>0;for(n=0;r>n;++n)n in this&&e.call(t,this[n],n,this)},E={},T=0,V=[],k=[],O={},M=function(e,t,n){var r;"undefined"==typeof n&&(n=["id","viewBox"]);for(var i=0;i<e.attributes.length;i++)r=e.attributes.item(i),n.indexOf(r.name)<0&&t.setAttribute(r.name,r.value)},B=function(e){var n=t.createElementNS(y,"svg");return G.call(e.childNodes,function(e){n.appendChild(e.cloneNode(!0))}),M(e,n),n},R=function(e,t,n){var r=n.getAttribute("data-src").split("#");if(r.length>1){var i=r[1],a=new RegExp("\\."+i+" ","g"),s=i+"-"+t;e.textContent=e.textContent.replace(a,"."+s+" "),n.setAttribute("class",n.getAttribute("class")+" "+s)}},q=function(e){var t=e.getAttribute("class");return t?t.split(" "):[]},L=function(e){var t=q(e),n="";return G.call(t,function(e){e.indexOf(x)>=0&&(n=e.replace(x,""))}),n},I=function(e,t){var n,r,i,a,s,l,o=!1,c=null;if(void 0===t)return e.cloneNode(!0);if(n=e.getElementById(t)){if(a=n.getAttribute("viewBox"),i=a.split(" "),n instanceof SVGSymbolElement)r=B(n),o=!0;else if(n instanceof SVGViewElement){if(c=null,u){var f='*[width="'+i[2]+'"][height="'+i[3]+'"]';s={},Math.abs(i[0])>0&&(s.x=i[0],f+='[x="'+i[0]+'"]'),Math.abs(i[1])>0&&(s.y=i[1],f+='[y="'+i[1]+'"]'),c=e.querySelector(f)}if(c&&c instanceof SVGSVGElement){r=c.cloneNode(!0);for(var p in s)"width"!==p&&"height"!==p&&r.removeAttribute(p)}else if(c&&c instanceof SVGUseElement){var d=e.getElementById(c.getAttributeNS(b,"href").substr(1));r=B(d),a=d.getAttribute("viewBox"),i=a.split(" "),o=!0}else o=!0,r=e.cloneNode(!0)}o&&(r.setAttribute("viewBox",i.join(" ")),r.setAttribute("width",i[2]+"px"),r.setAttribute("height",i[3]+"px")),l=q(r);var v=h+t;return l.indexOf(v)<0&&(l.push(v),r.setAttribute("class",l.join(" "))),r}},P=function(e,t,n){k[t]=k[t]||[],k[t].push({callback:e,fragmentId:n})},F=function(e){for(var t=0,n=k[e].length;n>t;t++)!function(t){setTimeout(function(){k[e][t].callback(I(E[e],k[e][t].fragmentId))},0)}(t)},U=function(t,n){var r,i,a;if(r=t.split("#"),i=r[0],a=2===r.length?r[1]:void 0,void 0!==E[i])E[i]instanceof SVGSVGElement?n(I(E[i],a)):P(n,i,a);else{if(!e.XMLHttpRequest)return n("Browser does not support XMLHttpRequest"),!1;E[i]={},P(n,i,a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState){if(404===s.status||null===s.responseXML)return n("Unable to load SVG file: "+i),N&&n("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),n(),!1;if(!(200===s.status||N&&0===s.status))return n("There was a problem injecting the SVG: "+s.status+" "+s.statusText),!1;if(s.responseXML instanceof Document)E[i]=s.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{var r=new DOMParser;e=r.parseFromString(s.responseText,"text/xml")}catch(a){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return n("Unable to parse SVG file: "+t),!1;E[i]=e.documentElement}F(i)}},s.open("GET",i),s.overrideMimeType&&s.overrideMimeType("text/xml"),s.send()}},X=function(t,u,h,y){var b;g===!1?b=t.getAttribute("data-src")||t.getAttribute("src"):(b=g+"#"+L(t),t.setAttribute("data-src",b));var m,A=b.split("#");if(!/\.svg/i.test(b))return void y("Attempted to inject a file with a non-svg extension: "+b);if(!j){var w=t.getAttribute("data-fallback")||t.getAttribute("data-png");return void(w?(t.setAttribute("src",w),y(null)):h?(m=A.length>1?A[1]+".png":b.split("/").pop().replace(".svg",".png"),i(p)?s(t,A[1],p):r(p)?p(t,A[1]):"string"==typeof p?a(t,p):t.setAttribute("src",h+"/"+m),y(null)):y("This browser does not support SVG and no PNG fallback was defined."))}i(p)&&l(t,A[1],p),-1===V.indexOf(t)&&(V.push(t),t.setAttribute("src",""),U(b,function(r){if("undefined"==typeof r||"string"==typeof r)return y(r),!1;var i=t.getAttribute("id");i&&r.setAttribute("id",i);var a=t.getAttribute("title");a&&r.setAttribute("title",a);var s=[].concat(r.getAttribute("class")||[],"injected-svg",t.getAttribute("class")||[]).join(" ");r.setAttribute("class",n(s));var l=t.getAttribute("style");l&&r.setAttribute("style",l);var p=[].filter.call(t.attributes,function(e){return/^data-\w[\w\-]*$/.test(e.name)});G.call(p,function(e){e.name&&e.value&&r.setAttribute(e.name,e.value)});var g=t.getAttribute("preserveAspectRatio");g&&r.setAttribute("preserveAspectRatio",g),o(r,T),r.removeAttribute("xmlns:a");for(var h,m,A=r.querySelectorAll("script"),w=[],x=0,S=A.length;S>x;x++)m=A[x].getAttribute("type"),m&&"application/ecmascript"!==m&&"application/javascript"!==m||(h=A[x].innerText||A[x].textContent,w.push(h),r.removeChild(A[x]));if(w.length>0&&("always"===u||"once"===u&&!O[b])){for(var C=0,N=w.length;N>C;C++)new Function(w[C])(e);O[b]=!0}var j=r.querySelectorAll("style");G.call(j,function(e){var t=q(r);(t.indexOf(c)>=0||v)&&t.indexOf(f)<0?e.parentNode.removeChild(e):d?R(e,T,r):e.textContent+=""}),t.parentNode.replaceChild(r,t),delete V[V.indexOf(t)],t=null,T++,y(r)}))},D=function(e,n,r){n=n||{};var i=n.evalScripts||"always",a=n.pngFallback||!1;u=n.onlyInjectVisiblePart||!0,f="undefined"==typeof n.keepStylesClass?"":n.keepStylesClass,w="undefined"==typeof n.spriteClassName?m:n.spriteClassName,x="undefined"==typeof n.spriteClassIdName?A:n.spriteClassIdName,c="undefined"==typeof n.removeStylesClass?C:n.removeStylesClass,v="undefined"==typeof n.removeAllStyles?!1:n.removeAllStyles,p="undefined"==typeof n.fallbackClassName?S:n.fallbackClassName,d="undefined"==typeof n.prefixStyleTags?!0:n.prefixStyleTags,g="undefined"==typeof n.spritesheetURL||""===n.spritesheetURL?!1:n.spritesheetURL,h=x,n.forceFallbacks&&(j=!1);var s=n.each,l=t.querySelector("html");if(j){if(l.className.replace("no-svg",""),"undefined"==typeof n.removeStylesClass){var o="svg."+c+" {fill: currentColor;}",y=t.head||t.getElementsByTagName("head")[0],b=t.createElement("style");b.type="text/css",b.styleSheet?b.styleSheet.cssText=o:b.appendChild(t.createTextNode(o)),y.appendChild(b)}}else l.className+=" no-svg";if(void 0!==e.length){var N=0;G.call(e,function(t){X(t,i,a,function(t){s&&"function"==typeof s&&s(t),r&&e.length===++N&&r(N)})})}else e?X(e,i,a,function(t){s&&"function"==typeof s&&s(t),r&&r(1),e=null}):r&&r(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=D:"function"==typeof define&&define.amd?define(function(){return D}):"object"==typeof e&&(e.SVGInjector=D)}(window,document);
//# sourceMappingURL=svg-injector.map.js