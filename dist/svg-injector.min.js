/**
 * SVGInjector v1.1.3-RC - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(t,e){"use strict";function n(t){t=t.split(" ");for(var e={},n=t.length,r=[];n--;)e.hasOwnProperty(t[n])||(e[t[n]]=1,r.unshift(t[n]));return r.join(" ")}var r,i,o="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xlink",a="file:"===t.location.protocol,s=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),u=Array.prototype.forEach||function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;var n,r=this.length>>>0;for(n=0;r>n;++n)n in this&&t.call(e,this[n],n,this)},c={},f=0,d=[],p=[],v={},h=function(t,e,n){var r;"undefined"==typeof n&&(n=["id","viewBox"]);for(var i=0;i<t.attributes.length;i++)r=t.attributes.item(i),n.indexOf(r.name)<0&&e.setAttribute(r.name,r.value)},g=function(t){var n=e.createElementNS(o,"svg");return u.call(t.childNodes,function(t){n.appendChild(t.cloneNode(!0))}),h(t,n),n},b=function(t){var e=t.getAttribute("class");return e?e.split(" "):[]},m=function(t,e){var n,i,o,a,s,u,c=!1,f=null;if(void 0===e)return t.cloneNode(!0);if(n=t.getElementById(e)){if(a=n.getAttribute("viewBox"),o=a.split(" "),n instanceof SVGSymbolElement)i=g(n),c=!0;else if(n instanceof SVGViewElement){if(f=null,r){var d='*[width="'+o[2]+'"][height="'+o[3]+'"]';s={},Math.abs(o[0])>0&&(s.x=o[0],d+='[x="'+o[0]+'"]'),Math.abs(o[1])>0&&(s.y=o[1],d+='[y="'+o[1]+'"]'),f=t.querySelector(d)}if(f&&f instanceof SVGSVGElement){i=f.cloneNode(!0);for(var p in s)"width"!==p&&"height"!==p&&i.removeAttribute(p)}else if(f&&f instanceof SVGUseElement){var v=t.getElementById(f.getAttributeNS(l,"href").substr(1));i=g(v),a=v.getAttribute("viewBox"),o=a.split(" "),c=!0}else c=!0,i=t.cloneNode(!0)}return c&&(i.setAttribute("viewBox",o.join(" ")),i.setAttribute("width",o[2]+"px"),i.setAttribute("height",o[3]+"px")),u=b(i),u.indexOf(e)<0&&(u.push(e),i.setAttribute("class",u.join(" "))),i}},y=function(t,e,n){p[e]=p[e]||[],p[e].push({callback:t,fragmentId:n})},w=function(t){for(var e=0,n=p[t].length;n>e;e++)!function(e){setTimeout(function(){p[t][e].callback(m(c[t],p[t][e].fragmentId))},0)}(e)},A=function(e,n){var r,i,o;if(r=e.split("#"),i=r[0],o=2===r.length?r[1]:void 0,void 0!==c[i])c[i]instanceof SVGSVGElement?n(m(c[i],o)):y(n,i,o);else{if(!t.XMLHttpRequest)return n("Browser does not support XMLHttpRequest"),!1;c[i]={},y(n,i,o);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState){if(404===l.status||null===l.responseXML)return n("Unable to load SVG file: "+i),a&&n("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),n(),!1;if(!(200===l.status||a&&0===l.status))return n("There was a problem injecting the SVG: "+l.status+" "+l.statusText),!1;if(l.responseXML instanceof Document)c[i]=l.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var t;try{var r=new DOMParser;t=r.parseFromString(l.responseText,"text/xml")}catch(o){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)return n("Unable to parse SVG file: "+e),!1;c[i]=t.documentElement}w(i)}},l.open("GET",i),l.overrideMimeType&&l.overrideMimeType("text/xml"),l.send()}},x=function(e,r,o,l){var a,c=e.getAttribute("data-src")||e.getAttribute("src"),p=c.split("#");if(!/\.svg/i.test(c))return void l("Attempted to inject a file with a non-svg extension: "+c);if(!s){var h=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(h?(e.setAttribute("src",h),l(null)):o?(a=p.length>1?p[1]+".png":c.split("/").pop().replace(".svg",".png"),e.setAttribute("src",o+"/"+a),l(null)):l("This browser does not support SVG and no PNG fallback was defined."))}-1===d.indexOf(e)&&(d.push(e),e.setAttribute("src",""),A(c,function(o){if("undefined"==typeof o||"string"==typeof o)return l(o),!1;var a=e.getAttribute("id");a&&o.setAttribute("id",a);var s=e.getAttribute("title");s&&o.setAttribute("title",s);var p=[].concat(o.getAttribute("class")||[],"injected-svg",e.getAttribute("class")||[]).join(" ");o.setAttribute("class",n(p));var h=e.getAttribute("style");h&&o.setAttribute("style",h);var g=[].filter.call(e.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});u.call(g,function(t){t.name&&t.value&&o.setAttribute(t.name,t.value)});for(var m,y=o.querySelectorAll("defs clipPath[id]"),w=0,A=y.length;A>w;w++){m=y[w].id+"-"+f;for(var x=o.querySelectorAll('[clip-path*="'+y[w].id+'"]'),S=0,j=x.length;j>S;S++)x[S].setAttribute("clip-path","url(#"+m+")");y[w].id=m}for(var G,V=o.querySelectorAll("defs mask[id]"),E=0,M=V.length;M>E;E++){G=V[E].id+"-"+f;for(var T=o.querySelectorAll('[mask*="'+V[E].id+'"]'),N=0,k=T.length;k>N;N++)T[N].setAttribute("mask","url(#"+G+")");V[E].id=G}o.removeAttribute("xmlns:a");for(var q,O,B=o.querySelectorAll("script"),C=[],P=0,I=B.length;I>P;P++)O=B[P].getAttribute("type"),O&&"application/ecmascript"!==O&&"application/javascript"!==O||(q=B[P].innerText||B[P].textContent,C.push(q),o.removeChild(B[P]));if(C.length>0&&("always"===r||"once"===r&&!v[c])){for(var L=0,X=C.length;X>L;L++)new Function(C[L])(t);v[c]=!0}var F=o.querySelectorAll("style");u.call(F,function(t){var e=b(o);e.indexOf(i)>=0?o.removeChild(t):t.textContent+=""}),e.parentNode.replaceChild(o,e),delete d[d.indexOf(e)],e=null,f++,l(o)}))},S=function(t,e,n){e=e||{};var o=e.evalScripts||"always",l=e.pngFallback||!1;r=e.onlyInjectVisiblePart||!0,i=e.removeStyleClass||"icon";var a=e.each;if(void 0!==t.length){var s=0;u.call(t,function(e){x(e,o,l,function(e){a&&"function"==typeof a&&a(e),n&&t.length===++s&&n(s)})})}else t?x(t,o,l,function(e){a&&"function"==typeof a&&a(e),n&&n(1),t=null}):n&&n(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=S:"function"==typeof define&&define.amd?define(function(){return S}):"object"==typeof t&&(t.SVGInjector=S)}(window,document);
//# sourceMappingURL=svg-injector.map.js