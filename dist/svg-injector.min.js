/**
 * SVGInjector v1.1.3-RC - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(t,e){"use strict";function n(t){t=t.split(" ");for(var e={},n=t.length,r=[];n--;)e.hasOwnProperty(t[n])||(e[t[n]]=1,r.unshift(t[n]));return r.join(" ")}function r(t){return!!(t&&t.constructor&&t.call&&t.apply)}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){var r=t.getAttribute("class");r=r?r:"",i(e)&&(e=e.join(" ")),e=r+" "+e,t.setAttribute("class",n(e))}function a(t,e,n){var r="undefined"==typeof n?p:n.slice(0);b.call(r,function(t,n){r[n]=t.replace("%s",e)}),l(t,r)}function o(t,e,r){r="undefined"==typeof r?p.slice(0):r.slice(0);var i=t.getAttribute("class");i&&(b.call(r,function(t,n){t=t.replace("%s",e),i.indexOf(t)>=0&&(i=i.replace(t,""))}),t.setAttribute("class",n(i)))}var s,c,u,f="http://www.w3.org/2000/svg",d="http://www.w3.org/1999/xlink",p=["%s","%s-dims","svg-sprite"],v="icon",g="file:"===t.location.protocol,h=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),b=Array.prototype.forEach||function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;var n,r=this.length>>>0;for(n=0;r>n;++n)n in this&&t.call(e,this[n],n,this)},m={},y=0,A=[],w=[],S={},x=function(t,e,n){var r;"undefined"==typeof n&&(n=["id","viewBox"]);for(var i=0;i<t.attributes.length;i++)r=t.attributes.item(i),n.indexOf(r.name)<0&&e.setAttribute(r.name,r.value)},j=function(t){var n=e.createElementNS(f,"svg");return b.call(t.childNodes,function(t){n.appendChild(t.cloneNode(!0))}),x(t,n),n},N=function(t){var e=t.getAttribute("class");return e?e.split(" "):[]},E=function(t,e){var n,r,i,l,a,o,c=!1,u=null;if(void 0===e)return t.cloneNode(!0);if(n=t.getElementById(e)){if(l=n.getAttribute("viewBox"),i=l.split(" "),n instanceof SVGSymbolElement)r=j(n),c=!0;else if(n instanceof SVGViewElement){if(u=null,s){var f='*[width="'+i[2]+'"][height="'+i[3]+'"]';a={},Math.abs(i[0])>0&&(a.x=i[0],f+='[x="'+i[0]+'"]'),Math.abs(i[1])>0&&(a.y=i[1],f+='[y="'+i[1]+'"]'),u=t.querySelector(f)}if(u&&u instanceof SVGSVGElement){r=u.cloneNode(!0);for(var p in a)"width"!==p&&"height"!==p&&r.removeAttribute(p)}else if(u&&u instanceof SVGUseElement){var v=t.getElementById(u.getAttributeNS(d,"href").substr(1));r=j(v),l=v.getAttribute("viewBox"),i=l.split(" "),c=!0}else c=!0,r=t.cloneNode(!0)}return c&&(r.setAttribute("viewBox",i.join(" ")),r.setAttribute("width",i[2]+"px"),r.setAttribute("height",i[3]+"px")),o=N(r),o.indexOf(e)<0&&(o.push(e),r.setAttribute("class",o.join(" "))),r}},G=function(t,e,n){w[e]=w[e]||[],w[e].push({callback:t,fragmentId:n})},V=function(t){for(var e=0,n=w[t].length;n>e;e++)!function(e){setTimeout(function(){w[t][e].callback(E(m[t],w[t][e].fragmentId))},0)}(e)},T=function(e,n){var r,i,l;if(r=e.split("#"),i=r[0],l=2===r.length?r[1]:void 0,void 0!==m[i])m[i]instanceof SVGSVGElement?n(E(m[i],l)):G(n,i,l);else{if(!t.XMLHttpRequest)return n("Browser does not support XMLHttpRequest"),!1;m[i]={},G(n,i,l);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){if(404===a.status||null===a.responseXML)return n("Unable to load SVG file: "+i),g&&n("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),n(),!1;if(!(200===a.status||g&&0===a.status))return n("There was a problem injecting the SVG: "+a.status+" "+a.statusText),!1;if(a.responseXML instanceof Document)m[i]=a.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var t;try{var r=new DOMParser;t=r.parseFromString(a.responseText,"text/xml")}catch(l){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)return n("Unable to parse SVG file: "+e),!1;m[i]=t.documentElement}V(i)}},a.open("GET",i),a.overrideMimeType&&a.overrideMimeType("text/xml"),a.send()}},k=function(e,s,f,d){var p,v=e.getAttribute("data-src")||e.getAttribute("src"),g=v.split("#");if(!/\.svg/i.test(v))return void d("Attempted to inject a file with a non-svg extension: "+v);if(!h){var m=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(m?(e.setAttribute("src",m),d(null)):f?(p=g.length>1?g[1]+".png":v.split("/").pop().replace(".svg",".png"),i(u)?a(e,g[1],u):r(u)?u(e,g[1]):"string"==typeof u?l(e,u):e.setAttribute("src",f+"/"+p),d(null)):d("This browser does not support SVG and no PNG fallback was defined."))}i(u)&&o(e,g[1],u),-1===A.indexOf(e)&&(A.push(e),e.setAttribute("src",""),T(v,function(r){if("undefined"==typeof r||"string"==typeof r)return d(r),!1;var i=e.getAttribute("id");i&&r.setAttribute("id",i);var l=e.getAttribute("title");l&&r.setAttribute("title",l);var a=[].concat(r.getAttribute("class")||[],"injected-svg",e.getAttribute("class")||[]).join(" ");r.setAttribute("class",n(a));var o=e.getAttribute("style");o&&r.setAttribute("style",o);var u=[].filter.call(e.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});b.call(u,function(t){t.name&&t.value&&r.setAttribute(t.name,t.value)});for(var f,p=r.querySelectorAll("defs clipPath[id]"),g=0,h=p.length;h>g;g++){f=p[g].id+"-"+y;for(var m=r.querySelectorAll('[clip-path*="'+p[g].id+'"]'),w=0,x=m.length;x>w;w++)m[w].setAttribute("clip-path","url(#"+f+")");p[g].id=f}for(var j,E=r.querySelectorAll("defs mask[id]"),G=0,V=E.length;V>G;G++){j=E[G].id+"-"+y;for(var T=r.querySelectorAll('[mask*="'+E[G].id+'"]'),k=0,C=T.length;C>k;k++)T[k].setAttribute("mask","url(#"+j+")");E[G].id=j}r.removeAttribute("xmlns:a");for(var M,O,q=r.querySelectorAll("script"),B=[],P=0,F=q.length;F>P;P++)O=q[P].getAttribute("type"),O&&"application/ecmascript"!==O&&"application/javascript"!==O||(M=q[P].innerText||q[P].textContent,B.push(M),r.removeChild(q[P]));if(B.length>0&&("always"===s||"once"===s&&!S[v])){for(var I=0,L=B.length;L>I;I++)new Function(B[I])(t);S[v]=!0}var X=r.querySelectorAll("style");b.call(X,function(t){var e=N(r);e.indexOf(c)>=0?t.parentNode.removeChild(t):t.textContent+=""}),e.parentNode.replaceChild(r,e),delete A[A.indexOf(e)],e=null,y++,d(r)}))},C=function(t,n,r){n=n||{};var i=n.evalScripts||"always",l=n.pngFallback||!1;s=n.onlyInjectVisiblePart||!0,c="undefined"==typeof n.removeStylesClass?v:n.removeStylesClass,u="undefined"==typeof n.fallbackClassName?p:n.fallbackClassName,n.forceFallbacks&&(h=!1);var a=n.each,o=e.querySelector("html");if(h){if(o.className.replace("no-svg",""),c===v){var f="svg."+c+" {fill: currentColor;}",d=e.head||e.getElementsByTagName("head")[0],g=e.createElement("style");g.type="text/css",g.styleSheet?g.styleSheet.cssText=f:g.appendChild(e.createTextNode(f)),d.appendChild(g)}}else o.className+=" no-svg";if(void 0!==t.length){var m=0;b.call(t,function(e){k(e,i,l,function(e){a&&"function"==typeof a&&a(e),r&&t.length===++m&&r(m)})})}else t?k(t,i,l,function(e){a&&"function"==typeof a&&a(e),r&&r(1),t=null}):r&&r(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=C:"function"==typeof define&&define.amd?define(function(){return C}):"object"==typeof t&&(t.SVGInjector=C)}(window,document);
//# sourceMappingURL=svg-injector.map.js