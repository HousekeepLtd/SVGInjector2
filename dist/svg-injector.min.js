/**
 * SVGInjector v1.1.3-RC - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(t,e){"use strict";function n(t){t=t.split(" ");for(var e={},n=t.length,r=[];n--;)e.hasOwnProperty(t[n])||(e[t[n]]=1,r.unshift(t[n]));return r.join(" ")}function r(t){return!!(t&&t.constructor&&t.call&&t.apply)}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){var r=t.getAttribute("class");r=r?r:"",i(e)&&(e=e.join(" ")),e=r+" "+e,t.setAttribute("class",n(e))}function a(t,e,n){var r="undefined"==typeof n?g:n.slice(0);y.call(r,function(t,n){r[n]=t.replace("%s",e)}),l(t,r)}function s(t,e,r){r="undefined"==typeof r?g.slice(0):r.slice(0);var i=t.getAttribute("class");i&&(y.call(r,function(t,n){t=t.replace("%s",e),i.indexOf(t)>=0&&(i=i.replace(t,""))}),t.setAttribute("class",n(i)))}var o,c,u,f,p="http://www.w3.org/2000/svg",d="http://www.w3.org/1999/xlink",g=["%s","%s-dims","svg-sprite"],v="icon",h="file:"===t.location.protocol,b=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),y=Array.prototype.forEach||function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;var n,r=this.length>>>0;for(n=0;r>n;++n)n in this&&t.call(e,this[n],n,this)},m={},A=0,w=[],x=[],S={},j=function(t,e,n){var r;"undefined"==typeof n&&(n=["id","viewBox"]);for(var i=0;i<t.attributes.length;i++)r=t.attributes.item(i),n.indexOf(r.name)<0&&e.setAttribute(r.name,r.value)},N=function(t){var n=e.createElementNS(p,"svg");return y.call(t.childNodes,function(t){n.appendChild(t.cloneNode(!0))}),j(t,n),n},E=function(t,e,n){var r=n.getAttribute("data-src").split("#");if(r.length>1){var i=r[1],l=new RegExp("\\."+i+" ","g"),a=i+"-"+e;t.textContent=t.textContent.replace(l,"."+a+" "),n.setAttribute("class",n.getAttribute("class")+" "+a)}},T=function(t){var e=t.getAttribute("class");return e?e.split(" "):[]},G=function(t,e){var n,r,i,l,a,s,c=!1,u=null;if(void 0===e)return t.cloneNode(!0);if(n=t.getElementById(e)){if(l=n.getAttribute("viewBox"),i=l.split(" "),n instanceof SVGSymbolElement)r=N(n),c=!0;else if(n instanceof SVGViewElement){if(u=null,o){var f='*[width="'+i[2]+'"][height="'+i[3]+'"]';a={},Math.abs(i[0])>0&&(a.x=i[0],f+='[x="'+i[0]+'"]'),Math.abs(i[1])>0&&(a.y=i[1],f+='[y="'+i[1]+'"]'),u=t.querySelector(f)}if(u&&u instanceof SVGSVGElement){r=u.cloneNode(!0);for(var p in a)"width"!==p&&"height"!==p&&r.removeAttribute(p)}else if(u&&u instanceof SVGUseElement){var g=t.getElementById(u.getAttributeNS(d,"href").substr(1));r=N(g),l=g.getAttribute("viewBox"),i=l.split(" "),c=!0}else c=!0,r=t.cloneNode(!0)}return c&&(r.setAttribute("viewBox",i.join(" ")),r.setAttribute("width",i[2]+"px"),r.setAttribute("height",i[3]+"px")),s=T(r),s.indexOf(e)<0&&(s.push(e),r.setAttribute("class",s.join(" "))),r}},V=function(t,e,n){x[e]=x[e]||[],x[e].push({callback:t,fragmentId:n})},C=function(t){for(var e=0,n=x[t].length;n>e;e++)!function(e){setTimeout(function(){x[t][e].callback(G(m[t],x[t][e].fragmentId))},0)}(e)},k=function(e,n){var r,i,l;if(r=e.split("#"),i=r[0],l=2===r.length?r[1]:void 0,void 0!==m[i])m[i]instanceof SVGSVGElement?n(G(m[i],l)):V(n,i,l);else{if(!t.XMLHttpRequest)return n("Browser does not support XMLHttpRequest"),!1;m[i]={},V(n,i,l);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){if(404===a.status||null===a.responseXML)return n("Unable to load SVG file: "+i),h&&n("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),n(),!1;if(!(200===a.status||h&&0===a.status))return n("There was a problem injecting the SVG: "+a.status+" "+a.statusText),!1;if(a.responseXML instanceof Document)m[i]=a.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var t;try{var r=new DOMParser;t=r.parseFromString(a.responseText,"text/xml")}catch(l){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)return n("Unable to parse SVG file: "+e),!1;m[i]=t.documentElement}C(i)}},a.open("GET",i),a.overrideMimeType&&a.overrideMimeType("text/xml"),a.send()}},M=function(e,o,p,d){var g,v=e.getAttribute("data-src")||e.getAttribute("src"),h=v.split("#");if(!/\.svg/i.test(v))return void d("Attempted to inject a file with a non-svg extension: "+v);if(!b){var m=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(m?(e.setAttribute("src",m),d(null)):p?(g=h.length>1?h[1]+".png":v.split("/").pop().replace(".svg",".png"),i(u)?a(e,h[1],u):r(u)?u(e,h[1]):"string"==typeof u?l(e,u):e.setAttribute("src",p+"/"+g),d(null)):d("This browser does not support SVG and no PNG fallback was defined."))}i(u)&&s(e,h[1],u),-1===w.indexOf(e)&&(w.push(e),e.setAttribute("src",""),k(v,function(r){if("undefined"==typeof r||"string"==typeof r)return d(r),!1;var i=e.getAttribute("id");i&&r.setAttribute("id",i);var l=e.getAttribute("title");l&&r.setAttribute("title",l);var a=[].concat(r.getAttribute("class")||[],"injected-svg",e.getAttribute("class")||[]).join(" ");r.setAttribute("class",n(a));var s=e.getAttribute("style");s&&r.setAttribute("style",s);var u=[].filter.call(e.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});y.call(u,function(t){t.name&&t.value&&r.setAttribute(t.name,t.value)});for(var p,g=r.querySelectorAll("defs clipPath[id]"),h=0,b=g.length;b>h;h++){p=g[h].id+"-"+A;for(var m=r.querySelectorAll('[clip-path*="'+g[h].id+'"]'),x=0,j=m.length;j>x;x++)m[x].setAttribute("clip-path","url(#"+p+")");g[h].id=p}for(var N,G=r.querySelectorAll("defs mask[id]"),V=0,C=G.length;C>V;V++){N=G[V].id+"-"+A;for(var k=r.querySelectorAll('[mask*="'+G[V].id+'"]'),M=0,O=k.length;O>M;M++)k[M].setAttribute("mask","url(#"+N+")");G[V].id=N}r.removeAttribute("xmlns:a");for(var q,B,P=r.querySelectorAll("script"),F=[],I=0,L=P.length;L>I;I++)B=P[I].getAttribute("type"),B&&"application/ecmascript"!==B&&"application/javascript"!==B||(q=P[I].innerText||P[I].textContent,F.push(q),r.removeChild(P[I]));if(F.length>0&&("always"===o||"once"===o&&!S[v])){for(var X=0,R=F.length;R>X;X++)new Function(F[X])(t);S[v]=!0}var D=r.querySelectorAll("style");y.call(D,function(t){var e=T(r);e.indexOf(c)>=0?t.parentNode.removeChild(t):f?E(t,A,r):t.textContent+=""}),e.parentNode.replaceChild(r,e),delete w[w.indexOf(e)],e=null,A++,d(r)}))},O=function(t,n,r){n=n||{};var i=n.evalScripts||"always",l=n.pngFallback||!1;o=n.onlyInjectVisiblePart||!0,c="undefined"==typeof n.removeStylesClass?v:n.removeStylesClass,u="undefined"==typeof n.fallbackClassName?g:n.fallbackClassName,f="undefined"==typeof n.prefixStyleTags?!0:n.prefixStyleTags,n.forceFallbacks&&(b=!1);var a=n.each,s=e.querySelector("html");if(b){if(s.className.replace("no-svg",""),c===v){var p="svg."+c+" {fill: currentColor;}",d=e.head||e.getElementsByTagName("head")[0],h=e.createElement("style");h.type="text/css",h.styleSheet?h.styleSheet.cssText=p:h.appendChild(e.createTextNode(p)),d.appendChild(h)}}else s.className+=" no-svg";if(void 0!==t.length){var m=0;y.call(t,function(e){M(e,i,l,function(e){a&&"function"==typeof a&&a(e),r&&t.length===++m&&r(m)})})}else t?M(t,i,l,function(e){a&&"function"==typeof a&&a(e),r&&r(1),t=null}):r&&r(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=O:"function"==typeof define&&define.amd?define(function(){return O}):"object"==typeof t&&(t.SVGInjector=O)}(window,document);
//# sourceMappingURL=svg-injector.map.js