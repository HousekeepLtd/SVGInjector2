/*!
 * SVGInjector v${VERSION} - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/flobacher/SVGInjector2
 * forked from:
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2015 flobacher <flo@digital-fuse.net>
 * @license MIT
 *
 * original Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(e,t){"use strict";var r=function(){function r(e){r.instanceCounter++,this.init(e)}var n,l,i,s,a,o,c,u,f,p,d,m,v,g,h,b,y,S,A,C,x,k,N,w,E,j,T,G,V,F,I="http://www.w3.org/2000/svg",q="http://www.w3.org/1999/xlink",L=["sprite"];return i=[],r.instanceCounter=0,r.prototype.init=function(r){r=r||{},n={},o={},o.isLocal="file:"===e.location.protocol,o.hasSvgSupport=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),l={count:0,elements:[]},s={},a={},a.evalScripts=r.evalScripts||"always",a.pngFallback=r.pngFallback||!1,a.svgFallbackDir=r.svgFallbackDir||!1,a.onlyInjectVisiblePart=r.onlyInjectVisiblePart||!0,a.keepStylesClass=void 0===r.keepStylesClass?"":r.keepStylesClass,a.spriteClassName=void 0===r.spriteClassName?"sprite":r.spriteClassName,a.spriteClassIdName=void 0===r.spriteClassIdName?"sprite--":r.spriteClassIdName,a.removeStylesClass=void 0===r.removeStylesClass?"icon":r.removeStylesClass,a.removeAllStyles=void 0!==r.removeAllStyles&&r.removeAllStyles,a.fallbackClassName=void 0===r.fallbackClassName?L:r.fallbackClassName,a.prefixStyleTags=void 0===r.prefixStyleTags||r.prefixStyleTags,a.spritesheetURL=void 0!==r.spritesheetURL&&""!==r.spritesheetURL&&r.spritesheetURL,a.prefixFragIdClass=a.spriteClassIdName,a.forceFallbacks=void 0!==r.forceFallbacks&&r.forceFallbacks,a.forceFallbacks&&(o.hasSvgSupport=!1),x(t.querySelector("html"),"no-svg",o.hasSvgSupport),o.hasSvgSupport&&void 0===r.removeStylesClass&&C(a.removeStylesClass)},r.prototype.inject=function(e,t,r){if(void 0!==e.length){var n=0,l=this;T.call(e,function(i){l.injectElement(i,function(l){r&&"function"==typeof r&&r(l),t&&e.length===++n&&t(n)})})}else e?this.injectElement(e,function(n){r&&"function"==typeof r&&r(n),t&&t(1),e=null}):t&&t(0)},F=r.prototype.injectElement=function(e,t){var r,n=e.getAttribute("data-src")||e.getAttribute("src");if(!n){if(!a.spritesheetURL)return;if(""===(r=h(e)))return;n=a.spritesheetURL+"#"+r}e.setAttribute("data-src",n);var i=n.split("#");1===i.length&&i.push("");var s;if(!/\.svg/i.test(n))return void t("Attempted to inject a file with a non-svg extension: "+n);if(!o.hasSvgSupport){var f=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(f?(e.setAttribute("src",f),t(null)):a.pngFallback?(i.length>1&&i[1]?(s=i[1]+".png",E(a.fallbackClassName)?c(e,i[1],a.fallbackClassName):w(a.fallbackClassName)?a.fallbackClassName(e,i[1]):"string"==typeof a.fallbackClassName?j(e,a.fallbackClassName):e.setAttribute("src",a.pngFallback+"/"+s)):(s=n.split("/").pop().replace(".svg",".png"),e.setAttribute("src",a.pngFallback+"/"+s)),t(null)):t("This browser does not support SVG and no PNG fallback was defined."))}E(a.fallbackClassName)&&u(e,i[1],a.fallbackClassName),-1===l.elements.indexOf(e)&&(l.elements.push(e),A(t,n,e))},r.prototype.getEnv=function(){return o},r.prototype.getConfig=function(){return a},c=function(e,t,r){var n=void 0===r?L:r.slice(0);T.call(n,function(e,r){n[r]=e.replace("%s",t)}),j(e,n)},u=function(e,t,r){r=void 0===r?L.slice(0):r.slice(0);var n,l,i=e.getAttribute("class");void 0!==i&&null!==i&&(l=i.split(" "))&&(T.call(r,function(e){e=e.replace("%s",t),(n=l.indexOf(e))>=0&&(l[n]="")}),e.setAttribute("class",N(l.join(" "))))},p=function(e,t,r,n){var l=0;return e.textContent=e.textContent.replace(/url\(('|")*#.+('|")*(?=\))/g,function(e){return l++,e+"-"+t}),l},f=function(e,t){var r,n,l,i,s,a,o,c,u,f,p,d,m,v,g,h,b=[{def:"linearGradient",attrs:["fill","stroke"]},{def:"radialGradient",attrs:["fill","stroke"]},{def:"clipPath",attrs:["clip-path"]},{def:"mask",attrs:["mask"]},{def:"filter",attrs:["filter"]},{def:"color-profile",attrs:["color-profile"]},{def:"cursor",attrs:["cursor"]},{def:"marker",attrs:["marker","marker-start","marker-mid","marker-end"]}];T.call(b,function(b){for(n=e.querySelectorAll(b.def+"[id]"),i=0,l=n.length;i<l;i++){for(r=n[i].id+"-"+t,c=b.attrs,f=0,u=c.length;f<u;f++)for(s=e.querySelectorAll("["+c[f]+'="url(#'+n[i].id+')"]'),o=0,a=s.length;o<a;o++)s[o].setAttribute(c[f],"url(#"+r+")");for(p=e.querySelectorAll("[*|href]"),v=[],m=0,d=p.length;m<d;m++)p[m].getAttributeNS(q,"href").toString()==="#"+n[i].id&&v.push(p[m]);for(h=0,g=v.length;h<g;h++)v[h].setAttributeNS(q,"href","#"+r);n[i].id=r}})},d=function(e,t,r){var n;void 0===r&&(r=["id","viewBox"]);for(var l=0;l<e.attributes.length;l++)n=e.attributes.item(l),r.indexOf(n.name)<0&&t.setAttribute(n.name,n.value)},m=function(e){var r=t.createElementNS(I,"svg");return T.call(e.childNodes,function(e){r.appendChild(e.cloneNode(!0))}),d(e,r),r},v=function(e,t,r){var n,l,i,s,a,o,c=r.getAttribute("data-src").split("#"),u=e.textContent,f="",p=function(e,t,r){r[t]="."+i+" "+e};if(c.length>1)l=c[1],i=l+"-"+t,n=new RegExp("\\."+l+" ","g"),e.textContent=u.replace(n,"."+i+" ");else{for(s=c[0].split("/"),i=s[s.length-1].replace(".svg","")+"-"+t,n=new RegExp("([\\s\\S]*?){([\\s\\S]*?)}","g");null!==(a=n.exec(u));){o=a[1].trim().split(", "),o.forEach(p);f+=o.join(", ")+"{"+a[2]+"}\n"}e.textContent=f}r.setAttribute("class",r.getAttribute("class")+" "+i)},g=function(e){var t=e.getAttribute("class");return t?t.trim().split(" "):[]},h=function(e){var t=g(e),r="";return T.call(t,function(e){e.indexOf(a.spriteClassIdName)>=0&&(r=e.replace(a.spriteClassIdName,""))}),r},b=function(e,t,r){var n,l,i,s,a,o,c=null,u=!1,f=!1,p=null;if(void 0===r)n=c=t.cloneNode(!0),c.getAttribute("width")||t.getAttribute("width")||(f=!0);else if(!(n=t.getElementById(r)))return;if(i=n.getAttribute("viewBox"),l=i.split(" "),!c){if(n instanceof SVGSymbolElement)c=m(n),f=u=!0;else if(n instanceof SVGViewElement){if(p=null,e.onlyInjectVisiblePart){var d='*[width="'+l[2]+'"][height="'+l[3]+'"]';s={},0===Math.abs(parseInt(l[0]))?d+=":not([x])":(s.x=l[0],d+='[x="'+l[0]+'"]'),0===Math.abs(parseInt(l[1]))?d+=":not([y])":(s.y=l[1],d+='[y="'+l[1]+'"]'),o=t.querySelectorAll(d),o.length,p=o[0]}if(p&&p instanceof SVGSVGElement){c=p.cloneNode(!0);for(var v in s)"width"!==v&&"height"!==v&&c.removeAttribute(v)}else if(p&&p instanceof SVGUseElement){var h=t.getElementById(p.getAttributeNS(q,"href").substr(1));c=m(h),i=h.getAttribute("viewBox"),l=i.split(" "),f=u=!0}else f=u=!0,c=t.cloneNode(!0)}a=g(c);var b=e.prefixFragIdClass+r;a.indexOf(b)<0&&(a.push(b),c.setAttribute("class",a.join(" ")))}return u&&c.setAttribute("viewBox",l.join(" ")),f&&(c.setAttribute("width",l[2]+"px"),c.setAttribute("height",l[3]+"px")),c.setAttribute("xmlns",I),c.setAttribute("xmlns:xlink",q),c},y=function(e,t,r,n){i[e]=i[e]||[],i[e].push({callback:r,fragmentId:t,element:n,name:name})},S=function(e){for(var t,r=0,n=i[e].length;r<n;r++)!function(r){setTimeout(function(){t=i[e][r],k(e,t.fragmentId,t.callback,t.element,t.name)},0)}(r)},A=function(t,r,l){var i,s,a,c,u;if(i=r.split("#"),s=i[0],a=2===i.length?i[1]:void 0,void 0!==a&&(u=s.split("/"),c=u[u.length-1].replace(".svg","")),void 0!==n[s])n[s]instanceof SVGSVGElement?k(s,a,t,l,c):y(s,a,t,l,c);else{if(!e.XMLHttpRequest)return t("Browser does not support XMLHttpRequest"),!1;n[s]={},y(s,a,t,l,c);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(4===f.readyState){if(404===f.status||null===f.responseXML)return t("Unable to load SVG file: "+s),!1;if(!(200===f.status||o.isLocal&&0===f.status))return t("There was a problem injecting the SVG: "+f.status+" "+f.statusText),!1;if(f.responseXML instanceof Document)n[s]=f.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{var l=new DOMParser;e=l.parseFromString(f.responseText,"text/xml")}catch(t){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return t("Unable to parse SVG file: "+r),!1;n[s]=e.documentElement}S(s)}},f.open("GET",s),f.overrideMimeType&&f.overrideMimeType("text/xml"),f.send()}},C=function(e){var r="svg."+e+" {fill: currentColor;}",n=t.head||t.getElementsByTagName("head")[0],l=t.createElement("style");l.type="text/css",l.styleSheet?l.styleSheet.cssText=r:l.appendChild(t.createTextNode(r)),n.appendChild(l)},x=function(e,t,r){r?e.className.replace(t,""):e.className+=" "+t},k=function(t,r,i,o,c){var u,m,h,y,S,A,C,x;if(void 0===(u=b(a,n[t],r))||"string"==typeof u)return S=o.getAttribute("data-fallback-svg"),S=!(!S&&!a.svgFallbackDir)&&a.svgFallbackDir+"/"+r+".svg",S?(o.setAttribute("data-src",S),l.elements.splice(l.elements.indexOf(o),1),F(o,i)):i(u),!1;u.setAttribute("role","img"),T.call(u.children||[],function(e){e instanceof SVGDefsElement||e instanceof SVGTitleElement||e instanceof SVGDescElement||e.setAttribute("role","presentation")}),y=o.getAttribute("aria-hidden")||u.getAttribute("aria-hidden"),y?(u.setAttribute("aria-hidden","true"),C=u.querySelector("title"),x=u.querySelector("desc"),C&&u.removeChild(C),x&&u.removeChild(x)):(h=G("desc",u,o,r,!1),m=G("title",u,o,r,!1),(h.length>0||m.length>0)&&(A=m+" "+h,u.setAttribute("aria-labelledby",A.trim()))),d(o,u,["class"]);var k=[].concat(u.getAttribute("class")||[],"injected-svg",o.getAttribute("class")||[]).join(" ");u.setAttribute("class",N(k)),f(u,l.count,c),u.removeAttribute("xmlns:a");for(var w,E,j=u.querySelectorAll("script"),V=[],I=0,q=j.length;I<q;I++)(E=j[I].getAttribute("type"))&&"application/ecmascript"!==E&&"application/javascript"!==E||(w=j[I].innerText||j[I].textContent,V.push(w),u.removeChild(j[I]));if(V.length>0&&("always"===a.evalScripts||"once"===a.evalScripts&&!s[t])){for(var L=0,O=V.length;L<O;L++)new Function(V[L])(e);s[t]=!0}var M=u.querySelectorAll("style");T.call(M,function(e){var t=g(u),r=!0;(t.indexOf(a.removeStylesClass)>=0||a.removeAllStyles)&&t.indexOf(a.keepStylesClass)<0?e.parentNode.removeChild(e):(p(e,l.count,u,c)>0&&(r=!1),a.prefixStyleTags&&(v(e,l.count,u,c),r=!1),r&&(e.textContent+=""))}),o.parentNode.replaceChild(u,o),delete l.elements[l.elements.indexOf(o)],l.count++,i(u)},N=function(e){e=e.split(" ");for(var t={},r=e.length,n=[];r--;)t.hasOwnProperty(e[r])||(t[e[r]]=1,n.unshift(e[r]));return n.join(" ")},w=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},E=function(e){return"[object Array]"===Object.prototype.toString.call(e)},j=function(e,t){var r=e.getAttribute("class");r=r||"",E(t)&&(t=t.join(" ")),t=r+" "+t,e.setAttribute("class",N(t))},T=Array.prototype.forEach||function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;var r,n=this.length>>>0;for(r=0;r<n;++r)r in this&&e.call(t,this[r],r,this)},G=function(e,t,r,n,i){var s,a=n?n+"-":"";return a+=e+"-"+l.count,s=r.querySelector(e),s?V(e,t,s.textContent,a,t.firstChild):(s=t.querySelector(e),s?s.setAttribute("id",a):i?V(e,t,n,a,t.firstChild):a=""),a},V=function(e,r,n,l,i){var s,a=r.querySelector(e);return s=t.createElementNS(I,e),s.appendChild(t.createTextNode(n)),s.setAttribute("id",l),r.insertBefore(s,i),a&&a.parentNode.removeChild(a),s},r}();"object"==typeof module&&"object"==typeof module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):"object"==typeof e&&(e.SVGInjector=r)}(window,document);
//# sourceMappingURL=./dist/svg-injector.map.js