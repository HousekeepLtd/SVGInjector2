/**
 * SVGInjector v1.1.3-RC - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(t,e){"use strict";function n(t){t=t.split(" ");for(var e={},n=t.length,r=[];n--;)e.hasOwnProperty(t[n])||(e[t[n]]=1,r.unshift(t[n]));return r.join(" ")}var r="file:"===t.location.protocol,i=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),o=Array.prototype.forEach||function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;var n,r=this.length>>>0;for(n=0;r>n;++n)n in this&&t.call(e,this[n],n,this)},l={},a=0,s=[],u=[],c={},f=function(t,n){var r,i,l,a;return void 0!==n?(r=t.getElementById(n),r instanceof SVGSymbolElement?(i=e.createElementNS("http://www.w3.org/2000/svg","svg"),o.call(r.childNodes,function(t){i.appendChild(t.cloneNode(!0))})):r instanceof SVGViewElement&&(i=t.cloneNode(!0)),a=r.getAttribute("viewBox"),a&&(l=a.split(" "),i.setAttribute("viewBox",l.join(" ")),i.setAttribute("width",l[2]+"px"),i.setAttribute("height",l[3]+"px")),i.setAttribute("class",n),i):t.cloneNode(!0)},p=function(t,e,n){u[e]=u[e]||[],u[e].push({callback:t,fragmentId:n})},d=function(t){for(var e=0,n=u[t].length;n>e;e++)!function(e){setTimeout(function(){u[t][e].callback(f(l[t],u[t][e].fragmentId))},0)}(e)},v=function(e,n){var i,o,a;if(i=e.split("#"),o=i[0],a=2===i.length?i[1]:void 0,void 0!==l[o])l[o]instanceof SVGSVGElement?n(f(l[o],a)):p(n,o,a);else{if(!t.XMLHttpRequest)return n("Browser does not support XMLHttpRequest"),!1;l[o]={},p(n,o,a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState){if(404===s.status||null===s.responseXML)return n("Unable to load SVG file: "+o),r&&n("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),n(),!1;if(!(200===s.status||r&&0===s.status))return n("There was a problem injecting the SVG: "+s.status+" "+s.statusText),!1;if(s.responseXML instanceof Document)l[o]=s.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var t;try{var i=new DOMParser;t=i.parseFromString(s.responseText,"text/xml")}catch(a){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)return n("Unable to parse SVG file: "+e),!1;l[o]=t.documentElement}d(o)}},s.open("GET",o),s.overrideMimeType&&s.overrideMimeType("text/xml"),s.send()}},g=function(e,r,l,u){var f=e.getAttribute("data-src")||e.getAttribute("src");if(!/\.svg/i.test(f))return void u("Attempted to inject a file with a non-svg extension: "+f);if(!i){var p=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(p?(e.setAttribute("src",p),u(null)):l?(e.setAttribute("src",l+"/"+f.split("/").pop().replace(".svg",".png")),u(null)):u("This browser does not support SVG and no PNG fallback was defined."))}-1===s.indexOf(e)&&(s.push(e),e.setAttribute("src",""),v(f,function(i){if("undefined"==typeof i||"string"==typeof i)return u(i),!1;var l=e.getAttribute("id");l&&i.setAttribute("id",l);var p=e.getAttribute("title");p&&i.setAttribute("title",p);var d=[].concat(i.getAttribute("class")||[],"injected-svg",e.getAttribute("class")||[]).join(" ");i.setAttribute("class",n(d));var v=e.getAttribute("style");v&&i.setAttribute("style",v);var g=[].filter.call(e.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});o.call(g,function(t){t.name&&t.value&&i.setAttribute(t.name,t.value)});for(var h,b=i.querySelectorAll("defs clipPath[id]"),m=0,y=b.length;y>m;m++){h=b[m].id+"-"+a;for(var A=i.querySelectorAll('[clip-path*="'+b[m].id+'"]'),w=0,S=A.length;S>w;w++)A[w].setAttribute("clip-path","url(#"+h+")");b[m].id=h}for(var x,j=i.querySelectorAll("defs mask[id]"),G=0,T=j.length;T>G;G++){x=j[G].id+"-"+a;for(var V=i.querySelectorAll('[mask*="'+j[G].id+'"]'),E=0,M=V.length;M>E;E++)V[E].setAttribute("mask","url(#"+x+")");j[G].id=x}i.removeAttribute("xmlns:a");for(var k,q,N=i.querySelectorAll("script"),O=[],B=0,L=N.length;L>B;B++)q=N[B].getAttribute("type"),q&&"application/ecmascript"!==q&&"application/javascript"!==q||(k=N[B].innerText||N[B].textContent,O.push(k),i.removeChild(N[B]));if(O.length>0&&("always"===r||"once"===r&&!c[f])){for(var P=0,X=O.length;X>P;P++)new Function(O[P])(t);c[f]=!0}var C=i.querySelectorAll("style");o.call(C,function(t){t.textContent+=""}),e.parentNode.replaceChild(i,e),delete s[s.indexOf(e)],e=null,a++,u(i)}))},h=function(t,e,n){e=e||{};var r=e.evalScripts||"always",i=e.pngFallback||!1,l=e.each;if(void 0!==t.length){var a=0;o.call(t,function(e){g(e,r,i,function(e){l&&"function"==typeof l&&l(e),n&&t.length===++a&&n(a)})})}else t?g(t,r,i,function(e){l&&"function"==typeof l&&l(e),n&&n(1),t=null}):n&&n(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=h:"function"==typeof define&&define.amd?define(function(){return h}):"object"==typeof t&&(t.SVGInjector=h)}(window,document);
//# sourceMappingURL=svg-injector.map.js