/**
 * SVGInjector v1.1.3-RC - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(t,e){"use strict";function n(t){t=t.split(" ");for(var e={},n=t.length,r=[];n--;)e.hasOwnProperty(t[n])||(e[t[n]]=1,r.unshift(t[n]));return r.join(" ")}function r(t){return!!(t&&t.constructor&&t.call&&t.apply)}var i,o,l,a="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xlink",u="file:"===t.location.protocol,c=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),f=Array.prototype.forEach||function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;var n,r=this.length>>>0;for(n=0;r>n;++n)n in this&&t.call(e,this[n],n,this)},d={},p=0,v=[],g=[],h={},b=function(t,e,n){var r;"undefined"==typeof n&&(n=["id","viewBox"]);for(var i=0;i<t.attributes.length;i++)r=t.attributes.item(i),n.indexOf(r.name)<0&&e.setAttribute(r.name,r.value)},m=function(t){var n=e.createElementNS(a,"svg");return f.call(t.childNodes,function(t){n.appendChild(t.cloneNode(!0))}),b(t,n),n},y=function(t){var e=t.getAttribute("class");return e?e.split(" "):[]},w=function(t,e){var n,r,o,l,a,u,c=!1,f=null;if(void 0===e)return t.cloneNode(!0);if(n=t.getElementById(e)){if(l=n.getAttribute("viewBox"),o=l.split(" "),n instanceof SVGSymbolElement)r=m(n),c=!0;else if(n instanceof SVGViewElement){if(f=null,i){var d='*[width="'+o[2]+'"][height="'+o[3]+'"]';a={},Math.abs(o[0])>0&&(a.x=o[0],d+='[x="'+o[0]+'"]'),Math.abs(o[1])>0&&(a.y=o[1],d+='[y="'+o[1]+'"]'),f=t.querySelector(d)}if(f&&f instanceof SVGSVGElement){r=f.cloneNode(!0);for(var p in a)"width"!==p&&"height"!==p&&r.removeAttribute(p)}else if(f&&f instanceof SVGUseElement){var v=t.getElementById(f.getAttributeNS(s,"href").substr(1));r=m(v),l=v.getAttribute("viewBox"),o=l.split(" "),c=!0}else c=!0,r=t.cloneNode(!0)}return c&&(r.setAttribute("viewBox",o.join(" ")),r.setAttribute("width",o[2]+"px"),r.setAttribute("height",o[3]+"px")),u=y(r),u.indexOf(e)<0&&(u.push(e),r.setAttribute("class",u.join(" "))),r}},A=function(t,e,n){g[e]=g[e]||[],g[e].push({callback:t,fragmentId:n})},S=function(t){for(var e=0,n=g[t].length;n>e;e++)!function(e){setTimeout(function(){g[t][e].callback(w(d[t],g[t][e].fragmentId))},0)}(e)},x=function(e,n){var r,i,o;if(r=e.split("#"),i=r[0],o=2===r.length?r[1]:void 0,void 0!==d[i])d[i]instanceof SVGSVGElement?n(w(d[i],o)):A(n,i,o);else{if(!t.XMLHttpRequest)return n("Browser does not support XMLHttpRequest"),!1;d[i]={},A(n,i,o);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState){if(404===l.status||null===l.responseXML)return n("Unable to load SVG file: "+i),u&&n("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),n(),!1;if(!(200===l.status||u&&0===l.status))return n("There was a problem injecting the SVG: "+l.status+" "+l.statusText),!1;if(l.responseXML instanceof Document)d[i]=l.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var t;try{var r=new DOMParser;t=r.parseFromString(l.responseText,"text/xml")}catch(o){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)return n("Unable to parse SVG file: "+e),!1;d[i]=t.documentElement}S(i)}},l.open("GET",i),l.overrideMimeType&&l.overrideMimeType("text/xml"),l.send()}},j=function(e,i,a,s){var u,d=e.getAttribute("data-src")||e.getAttribute("src"),g=d.split("#");if(!/\.svg/i.test(d))return void s("Attempted to inject a file with a non-svg extension: "+d);if(!c){var b=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(b?(e.setAttribute("src",b),s(null)):a?(u=g.length>1?g[1]+".png":d.split("/").pop().replace(".svg",".png"),r(l)?l(e,g[1]):"string"==typeof l?e.className+=l:e.setAttribute("src",a+"/"+u),s(null)):s("This browser does not support SVG and no PNG fallback was defined."))}-1===v.indexOf(e)&&(v.push(e),e.setAttribute("src",""),x(d,function(r){if("undefined"==typeof r||"string"==typeof r)return s(r),!1;var l=e.getAttribute("id");l&&r.setAttribute("id",l);var a=e.getAttribute("title");a&&r.setAttribute("title",a);var u=[].concat(r.getAttribute("class")||[],"injected-svg",e.getAttribute("class")||[]).join(" ");r.setAttribute("class",n(u));var c=e.getAttribute("style");c&&r.setAttribute("style",c);var g=[].filter.call(e.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});f.call(g,function(t){t.name&&t.value&&r.setAttribute(t.name,t.value)});for(var b,m=r.querySelectorAll("defs clipPath[id]"),w=0,A=m.length;A>w;w++){b=m[w].id+"-"+p;for(var S=r.querySelectorAll('[clip-path*="'+m[w].id+'"]'),x=0,j=S.length;j>x;x++)S[x].setAttribute("clip-path","url(#"+b+")");m[w].id=b}for(var G,V=r.querySelectorAll("defs mask[id]"),N=0,E=V.length;E>N;N++){G=V[N].id+"-"+p;for(var k=r.querySelectorAll('[mask*="'+V[N].id+'"]'),M=0,T=k.length;T>M;M++)k[M].setAttribute("mask","url(#"+G+")");V[N].id=G}r.removeAttribute("xmlns:a");for(var q,O,B=r.querySelectorAll("script"),C=[],P=0,F=B.length;F>P;P++)O=B[P].getAttribute("type"),O&&"application/ecmascript"!==O&&"application/javascript"!==O||(q=B[P].innerText||B[P].textContent,C.push(q),r.removeChild(B[P]));if(C.length>0&&("always"===i||"once"===i&&!h[d])){for(var I=0,L=C.length;L>I;I++)new Function(C[I])(t);h[d]=!0}var X=r.querySelectorAll("style");f.call(X,function(t){var e=y(r);e.indexOf(o)>=0?r.removeChild(t):t.textContent+=""}),e.parentNode.replaceChild(r,e),delete v[v.indexOf(e)],e=null,p++,s(r)}))},G=function(t,n,r){n=n||{};var a=n.evalScripts||"always",s=n.pngFallback||!1;i=n.onlyInjectVisiblePart||!0,o=n.removeStyleClass||"icon",l="undefined"==typeof n.fallbackClassName?function(t,e){var n=t.getAttribute("class");t.setAttribute("class",(n?n:"")+" "+e+" "+e+"-dims nosvg-sprite")}:n.fallbackClassName,n.forceFallbacks&&(c=!1);var u=n.each;if(c||(e.querySelector("html").className+=" no-svg"),void 0!==t.length){var d=0;f.call(t,function(e){j(e,a,s,function(e){u&&"function"==typeof u&&u(e),r&&t.length===++d&&r(d)})})}else t?j(t,a,s,function(e){u&&"function"==typeof u&&u(e),r&&r(1),t=null}):r&&r(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=G:"function"==typeof define&&define.amd?define(function(){return G}):"object"==typeof t&&(t.SVGInjector=G)}(window,document);
//# sourceMappingURL=svg-injector.map.js