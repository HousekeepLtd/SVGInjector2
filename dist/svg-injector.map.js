{"version":3,"file":"./svg-injector.min.js","sources":["./svg-injector.js"],"names":["window","document","SVGInjector","options","instanceCounter","this","init","svgCache","injections","requestQueue","ranScripts","config","env","setFallbackClassNames","removeFallbackClassNames","suffixIdReferences","suffixIdReferencesInStyles","copyAttributes","cloneSymbolAsSVG","doPrefixStyleTags","getClassList","getSpriteIdFromClass","cloneSvg","queueRequest","processRequestQueue","loadSvg","writeDefaultClass","replaceNoSVGClass","onLoadSVG","uniqueClasses","isFunction","isArray","svgElemSetClassName","forEach","setRootLevelElem","addRootLevelElem","SVG_NS","XLINK_NS","DEFAULT_SPRITE_CLASS_NAME","DEFAULT_SPRITE_CLASS_ID_NAME","DEFAULT_FALLBACK_CLASS_NAMES","DEFAULT_REMOVESTYLES_CLASS_NAME","prototype","isLocal","location","protocol","hasSvgSupport","implementation","hasFeature","count","elements","evalScripts","pngFallback","onlyInjectVisiblePart","keepStylesClass","spriteClassName","spriteClassIdName","removeStylesClass","removeAllStyles","fallbackClassName","prefixStyleTags","spritesheetURL","prefixFragIdClass","forceFallbacks","querySelector","inject","onDoneCallback","eachCallback","undefined","length","elementsLoaded","ctx","call","element","injectElement","svg","el","onElementInjectedCallback","imgUrl","spriteId","getAttribute","setAttribute","imgUrlSplitByFId","split","push","fallbackUrl","test","perElementFallback","pop","replace","indexOf","getEnv","symbolId","classNames","className","slice","curClassName","idx","fallbackClassNames","idxOfCurClass","curClassNames","classAttribute","curFallbackClassName","join","styleTag","suffix","name","numRefs","textContent","match","newName","definitions","defLen","defIdx","refrences","refLen","refIdx","attrs","attrLen","attrIdx","allLinks","allLinksLen","allLinksIdx","links","linkLen","linkIdx","defs","def","elem","querySelectorAll","id","getAttributeNS","toString","setAttributeNS","svgElemSource","svgElemTarget","attributesToIgnore","curAttr","i","attributes","item","value","svgSymbol","createElementNS","childNodes","child","appendChild","cloneNode","injectCount","regex","origPrefixClassName","newPrefixClassName","srcFileNameArr","regexSearchResult","selectorArr","srcArr","styleTagContent","newContent","prefixSelector","arr","RegExp","exec","trim","tmp","svgToCheck","curClassAttr","classes","curClass","sourceSvg","fragId","svgElem","newSVG","viewBox","viewBoxAttr","symbolAttributesToFind","curClassList","symobolList","setViewboxOnNewSVG","symbolElem","getElementById","SVGSymbolElement","SVGViewElement","selector","Math","abs","parseInt","x","y","SVGSVGElement","prop","removeAttribute","SVGUseElement","referencedSymbol","substr","fragIdClassName","fileName","callback","fragmentId","url","requestQueueElem","len","index","setTimeout","urlArr","fileUrl","pathArr","XMLHttpRequest","httpRequest","onreadystatechange","readyState","status","responseXML","statusText","Document","documentElement","DOMParser","Function","xmlDoc","parser","parseFromString","responseText","e","getElementsByTagName","open","overrideMimeType","send","css","head","style","createElement","type","styleSheet","cssText","createTextNode","noSVGClassName","imgId","titleId","descId","ariaHidden","children","curChildElem","SVGDefsElement","SVGTitleElement","SVGDescElement","classMerge","concat","imgStyle","imgData","filter","at","dataAttr","presARAttr","script","scriptType","scripts","scriptsToEval","k","scriptsLen","innerText","removeChild","l","scriptsToEvalLen","styleTags","svgClassList","stylesUntouched","parentNode","replaceChild","list","hash","out","hasOwnProperty","unshift","obj","constructor","apply","Object","newClassNames","curClasses","Array","fn","scope","TypeError","addDefault","existingElem","elemId","firstChild","text","insertBefore","newElem","angular","module","provider","injectorOpts","set","opts","$get","factory","svgInjectorOptions","directive","svgInjectorFactory","restrict","link","$observe","exports","define","amd"],"mappings":"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"}