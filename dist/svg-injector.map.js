{"version":3,"file":"./svg-injector.min.js","sources":["./svg-injector.js"],"names":["window","document","uniqueClasses","list","split","hash","i","length","out","hasOwnProperty","unshift","join","isLocal","location","protocol","hasSvgSupport","implementation","hasFeature","forEach","Array","prototype","fn","scope","this","TypeError","len","call","svgCache","injectCount","injectedElements","requestQueue","ranScripts","cloneSvg","sourceSvg","fragId","svgElem","newSVG","viewBox","viewBoxAttr","undefined","getElementById","SVGSymbolElement","createElementNS","childNodes","child","appendChild","cloneNode","SVGViewElement","getAttribute","setAttribute","queueRequest","callback","fileName","push","fragmentId","processRequestQueue","url","index","setTimeout","loadSvg","urlArr","SVGSVGElement","XMLHttpRequest","httpRequest","onreadystatechange","readyState","status","responseXML","statusText","Document","documentElement","DOMParser","Function","xmlDoc","parser","parseFromString","responseText","e","getElementsByTagName","open","overrideMimeType","send","injectElement","el","evalScripts","pngFallback","imgUrl","test","perElementFallback","pop","replace","indexOf","svg","imgId","imgTitle","classMerge","concat","imgStyle","imgData","filter","attributes","at","name","dataAttr","value","newClipPathName","clipPaths","querySelectorAll","g","clipPathsLen","id","usingClipPath","h","usingClipPathLen","newMaskName","masks","masksLen","usingMask","j","usingMaskLen","removeAttribute","script","scriptType","scripts","scriptsToEval","k","scriptsLen","innerText","textContent","removeChild","l","scriptsToEvalLen","styleTags","styleTag","parentNode","replaceChild","SVGInjector","elements","options","done","eachCallback","each","elementsLoaded","element","module","exports","define","amd"],"mappings":"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"}