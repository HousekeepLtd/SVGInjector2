{"version":3,"file":"./dist/svg-injector.js","sources":["?","./src/svg-injector.js"],"names":["window","document","SVGInjector","options","instanceCounter","this","init","svgCache","injections","requestQueue","ranScripts","config","env","SVG_NS","XLINK_NS","DEFAULT_SPRITE_CLASS_NAME","DEFAULT_SPRITE_CLASS_ID_NAME","DEFAULT_FALLBACK_CLASS_NAMES","DEFAULT_REMOVESTYLES_CLASS_NAME","prototype","isLocal","location","protocol","hasSvgSupport","implementation","hasFeature","count","elements","evalScripts","pngFallback","onlyInjectVisiblePart","keepStylesClass","spriteClassName","spriteClassIdName","removeStylesClass","removeAllStyles","fallbackClassName","prefixStyleTags","spritesheetURL","prefixFragIdClass","forceFallbacks","replaceNoSVGClass","querySelector","writeDefaultClass","inject","onDoneCallback","eachCallback","undefined","length","elementsLoaded","ctx","forEach","call","element","injectElement","svg","el","onElementInjectedCallback","imgUrl","console","log","getAttribute","getSpriteIdFromClass","setAttribute","fallbackUrl","imgUrlSplitByFId","split","test","isArray","removeFallbackClassNames","indexOf","push","loadSvg","warn","perElementFallback","pop","replace","setFallbackClassNames","isFunction","info","svgElemSetClassName","getEnv","symbolId","classNames","className","slice","curClassName","idx","fallbackClassNames","idxOfCurClass","curClassNames","curFallbackClassName","uniqueClasses","join","prefixIdReferences","suffix","def","attribute","newName","defs","attr","elem","definitions","querySelectorAll","g","defLen","id","usingElements","h","usingElementsLen","copyAttributes","svgElemSource","svgElemTarget","attributesToIgnore","curAttr","i","attributes","item","name","value","cloneSymbolAsSVG","svgSymbol","createElementNS","childNodes","child","appendChild","cloneNode","doPrefixStyleTags","styleTag","injectCount","srcArr","origPrefixClassName","regex","RegExp","newPrefixClassName","textContent","getClassList","svgToCheck","curClassAttr","classes","curClass","cloneSvg","sourceSvg","fragId","svgElem","newSVG","viewBox","viewBoxAttr","symbolAttributesToFind","curClassList","setViewboxOnNewSVG","symbolElem","getElementById","SVGSymbolElement","SVGViewElement","selector","Math","abs","parseInt","x","y","SVGSVGElement","prop","removeAttribute","SVGUseElement","referencedSymbol","getAttributeNS","substr","fragIdClassName","queueRequest","fileName","callback","fragmentId","processRequestQueue","url","requestQueueElem","len","index","setTimeout","onLoadSVG","urlArr","XMLHttpRequest","httpRequest","onreadystatechange","readyState","status","responseXML","statusText","Document","documentElement","DOMParser","Function","xmlDoc","parser","parseFromString","responseText","e","getElementsByTagName","open","overrideMimeType","send","css","head","style","createElement","type","styleSheet","cssText","createTextNode","noSVGClassName","imgId","imgTitle","classMerge","concat","imgStyle","imgData","filter","at","dataAttr","presARAttr","script","scriptType","scripts","scriptsToEval","k","scriptsLen","innerText","removeChild","l","scriptsToEvalLen","styleTags","svgClassList","parentNode","replaceChild","list","hash","out","hasOwnProperty","unshift","obj","constructor","apply","Object","toString","newClassNames","curClasses","Array","fn","scope","TypeError","module","exports","define","amd"],"mappings":"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"}