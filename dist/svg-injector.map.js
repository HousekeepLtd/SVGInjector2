{"version":3,"file":"./svg-injector.min.js","sources":["./svg-injector.js"],"names":["window","document","SVGInjector","options","instanceCounter","this","init","svgCache","injections","requestQueue","ranScripts","config","env","SVG_NS","XLINK_NS","DEFAULT_SPRITE_CLASS_NAME","DEFAULT_SPRITE_CLASS_ID_NAME","DEFAULT_FALLBACK_CLASS_NAMES","DEFAULT_REMOVESTYLES_CLASS_NAME","prototype","isLocal","location","protocol","hasSvgSupport","implementation","hasFeature","count","elements","evalScripts","pngFallback","onlyInjectVisiblePart","keepStylesClass","spriteClassName","spriteClassIdName","removeStylesClass","removeAllStyles","fallbackClassName","prefixStyleTags","spritesheetURL","prefixFragIdClass","forceFallbacks","replaceNoSVGClass","querySelector","writeDefaultClass","inject","onDoneCallback","eachCallback","undefined","length","elementsLoaded","ctx","forEach","call","element","injectElement","svg","el","onElementInjectedCallback","imgUrl","spriteId","getAttribute","getSpriteIdFromClass","setAttribute","imgUrlSplitByFId","split","push","fallbackUrl","test","perElementFallback","pop","replace","isArray","setFallbackClassNames","isFunction","svgElemSetClassName","removeFallbackClassNames","indexOf","loadSvg","getEnv","symbolId","classNames","className","slice","curClassName","idx","fallbackClassNames","idxOfCurClass","curClassNames","classAttribute","curFallbackClassName","uniqueClasses","join","prefixIdReferences","suffix","def","attribute","newName","defs","attr","elem","definitions","querySelectorAll","g","defLen","id","usingElements","h","usingElementsLen","copyAttributes","svgElemSource","svgElemTarget","attributesToIgnore","curAttr","i","attributes","item","name","value","cloneSymbolAsSVG","svgSymbol","createElementNS","childNodes","child","appendChild","cloneNode","doPrefixStyleTags","styleTag","injectCount","regex","origPrefixClassName","newPrefixClassName","srcFileNameArr","regexSearchResult","selectorArr","srcArr","styleTagContent","textContent","newContent","prefixSelector","arr","RegExp","exec","trim","tmp","getClassList","svgToCheck","curClassAttr","classes","curClass","cloneSvg","sourceSvg","fragId","svgElem","newSVG","viewBox","viewBoxAttr","symbolAttributesToFind","curClassList","setViewboxOnNewSVG","symbolElem","getElementById","SVGSymbolElement","SVGViewElement","selector","Math","abs","parseInt","x","y","symobolList","SVGSVGElement","prop","removeAttribute","SVGUseElement","referencedSymbol","getAttributeNS","substr","fragIdClassName","queueRequest","fileName","callback","fragmentId","processRequestQueue","url","requestQueueElem","len","index","setTimeout","onLoadSVG","urlArr","XMLHttpRequest","httpRequest","onreadystatechange","readyState","status","responseXML","statusText","Document","documentElement","DOMParser","Function","xmlDoc","parser","parseFromString","responseText","e","getElementsByTagName","open","overrideMimeType","send","css","head","style","createElement","type","styleSheet","cssText","createTextNode","noSVGClassName","imgId","imgTitle","classMerge","concat","imgStyle","imgData","filter","at","dataAttr","presARAttr","script","scriptType","scripts","scriptsToEval","k","scriptsLen","innerText","removeChild","l","scriptsToEvalLen","styleTags","svgClassList","parentNode","replaceChild","list","hash","out","hasOwnProperty","unshift","obj","constructor","apply","Object","toString","newClassNames","curClasses","Array","fn","scope","TypeError","angular","module","provider","injectorOpts","set","opts","$get","factory","svgInjectorOptions","directive","svgInjectorFactory","restrict","link","attrs","$observe","exports","define","amd"],"mappings":";;;;;;;;;;;;CAaC,SAASA,EAAQC,GAChB,YAWA,IAAIC,GAAc,WAMhB,QAASA,GAAaC,GACpBD,EAAYE,kBACU,mBAAZD,IACRE,KAAKC,KAAKH,GAMd,GAQII,GACAC,EACAC,EACAC,EACAC,EACAC,EAbAC,EAAS,6BACTC,EAAW,+BACXC,EAA4B,SAC5BC,EAA+BD,EAA4B,KAC3DE,GAAgCF,GAChCG,EAAkC,MAWtChB,GAAYE,gBAAkB,EAW9BF,EAAYiB,UAAUb,KAAO,SAASH,GACpCA,EAAUA,MACVI,KACAK,KACAA,EAAIQ,QAAuC,UAA7BpB,EAAOqB,SAASC,SAC9BV,EAAIW,cAAgBtB,EAASuB,eAAeC,WAAW,oDAAqD,OAE5GjB,GACEkB,MAAO,EACPC,aAGFlB,KACAC,KACAC,KAMAA,EAAOiB,YAAczB,EAAQyB,aAAe,SAG5CjB,EAAOkB,YAAc1B,EAAQ0B,cAAe,EAK5ClB,EAAOmB,sBAAwB3B,EAAQ2B,wBAAyB,EAEhEnB,EAAOoB,gBAAuD,mBAA5B5B,GAAQ4B,gBACxC,GAAK5B,EAAQ4B,gBAEfpB,EAAOqB,gBAAuD,mBAA5B7B,GAAQ6B,gBACxCjB,EAA4BZ,EAAQ6B,gBAEtCrB,EAAOsB,kBAA2D,mBAA9B9B,GAAQ8B,kBAC1CjB,EAA+Bb,EAAQ8B,kBAEzCtB,EAAOuB,kBAA0D,mBAA9B/B,GAAQ+B,kBACzChB,EAAkCf,EAAQ+B,kBAE5CvB,EAAOwB,gBAAsD,mBAA5BhC,GAAQgC,iBACvC,EAAQhC,EAAQgC,gBAElBxB,EAAOyB,kBAA0D,mBAA9BjC,GAAQiC,kBACzCnB,EAA+Bd,EAAQiC,kBAEzCzB,EAAO0B,gBAAuD,mBAA5BlC,GAAQkC,iBACxC,EAAOlC,EAAQkC,gBAEjB1B,EAAO2B,eAAoD,mBAA3BnC,GAAQmC,gBAA6D,KAA3BnC,EAAQmC,gBAChF,EAAQnC,EAAQmC,eAElB3B,EAAO4B,kBAAoB5B,EAAOsB,kBAElCtB,EAAO6B,eAAoD,mBAA3BrC,GAAQqC,gBACtC,EAAQrC,EAAQqC,eAEf7B,EAAO6B,iBACR5B,EAAIW,eAAgB,GAGtBkB,EAAkBxC,EAASyC,cAAc,QAAS,SAAU9B,EAAIW,eAE7DX,EAAIW,eAAsD,mBAA9BpB,GAAQ+B,mBACrCS,EAAkBhC,EAAOuB,oBAU7BhC,EAAYiB,UAAUyB,OAAS,SAASjB,EAAUkB,EAAgBC,GAChE,GAAwBC,SAApBpB,EAASqB,OAAsB,CACjC,GAAIC,GAAiB,EACjBC,EAAM7C,IACV8C,GAAQC,KAAKzB,EAAU,SAAU0B,GAC/BH,EAAII,cAAcD,EAAS,SAAUE,GAC/BT,GAAwC,kBAAjBA,IAA6BA,EAAaS,GACjEV,GAAkBlB,EAASqB,WAAaC,GAAgBJ,EAAeI,WAK3EtB,GACFtB,KAAKiD,cAAc3B,EAAU,SAAU4B,GACjCT,GAAwC,kBAAjBA,IAA6BA,EAAaS,GACjEV,GAAgBA,EAAe,GACnClB,EAAW,OAITkB,GAAgBA,EAAe,IAYzC3C,EAAYiB,UAAUmC,cAAgB,SAAUE,EAAIC,GAClD,GAAIC,GAAQC,CAEZ,IAAIhD,EAAO2B,kBAAmB,GAASkB,EAAGI,aAAa,aAAeJ,EAAGI,aAAa,OAEpFF,EAASF,EAAGI,aAAa,aAAeJ,EAAGI,aAAa,WAErD,CAEH,GADAD,EAAWE,EAAqBL,GACf,KAAbG,EAEF,MAEFD,GAAS/C,EAAO2B,eAAiB,IAAMqB,EAEvCH,EAAGM,aAAa,WAAYJ,GAG9B,GAAIK,GAAmBL,EAAOM,MAAM,IACJ,KAA5BD,EAAiBf,QACnBe,EAAiBE,KAAK,GAExB,IAAIC,EAGJ,KAAK,SAAWC,KAAKT,GAEnB,WADAD,GAA0B,wDAA0DC,EAKtF,KAAI9C,EAAIW,cAKH,CAKH,GAAI6C,GAAqBZ,EAAGI,aAAa,kBAAoBJ,EAAGI,aAAa,WAqC7E,aAlCIQ,GACFZ,EAAGM,aAAa,MAAOM,GACvBX,EAA0B,OAGnB9C,EAAOkB,aAGZqC,EADEH,EAAiBf,OAAS,EACde,EAAiB,GAAK,OAGtBL,EAAOM,MAAM,KAAKK,MAAMC,QAAQ,OAAQ,QAGpDC,EAAQ5D,EAAOyB,mBACjBoC,EAAsBhB,EAAIO,EAAiB,GAAIpD,EAAOyB,mBAE/CqC,EAAW9D,EAAOyB,mBAEzBzB,EAAOyB,kBAAkBoB,EAAIO,EAAiB,IAEH,gBAA7BpD,GAAOyB,kBACrBsC,EAAoBlB,EAAI7C,EAAOyB,mBAG/BoB,EAAGM,aAAa,MAAOnD,EAAOkB,YAAc,IAAMqC,GAEpDT,EAA0B,OAI1BA,EAA0B,uEA3CxBc,EAAQ5D,EAAOyB,oBACjBuC,EAAyBnB,EAAIO,EAAiB,GAAIpD,EAAOyB,mBAoDrB,KAApC5B,EAAWmB,SAASiD,QAAQpB,KAOhChD,EAAWmB,SAASsC,KAAKT,GAGzBA,EAAGM,aAAa,MAAO,IAGvBe,EAAQpB,EAA2BC,EAAQF,KAI7CtD,EAAYiB,UAAU2D,OAAS,WAC7B,MAAOlE,GAIT,IAAI4D,GAAwB,SAAUnB,EAAS0B,EAAUC,GACvD,GAAIC,GAAoC,mBAAfD,GAA8B/D,EAA+B+D,EAAWE,MAAM,EAGvG/B,GAAQC,KACN6B,EACA,SAASE,EAAcC,GACrBH,EAAUG,GAAOD,EAAab,QAAQ,KAAMS,KAIhDL,EAAoBrB,EAAS4B,IAG3BN,EAA2B,SAAUtB,EAAS0B,EAAUM,GAC1DA,EAAqD,mBAAvBA,GAAsCpE,EAA6BiE,MAAM,GAAKG,EAAmBH,MAAM,EAErI,IAAII,GACAC,EACAC,EAAiBnC,EAAQO,aAAa,QAEZ,oBAAnB4B,IAAqD,OAAnBA,IAI7CD,EAAgBC,EAAexB,MAAM,KACjCuB,IAEFpC,EAAQC,KACNiC,EACA,SAASI,GACPA,EAAuBA,EAAqBnB,QAAQ,KAAMS,GAC1DO,EAAgBC,EAAcX,QAAQa,GAClCH,GAAiB,IAEnBC,EAAcD,GAAiB,MAMrCjC,EAAQS,aAAa,QAAS4B,EAAcH,EAAcI,KAAK,UAK/DC,EAAqB,SAAUrC,EAAKsC,GACtC,GAQIC,GAAKC,EAAWC,EARhBC,IACDH,IAAI,iBAAkBI,KAAK,SAC3BJ,IAAI,iBAAkBI,KAAK,SAC3BJ,IAAI,WAAYI,KAAK,cACrBJ,IAAI,OAAQI,KAAK,SACjBJ,IAAI,SAAUI,KAAK,UAKtB/C,GAAQC,KAAK6C,EAAM,SAASE,GAC1BL,EAAMK,EAAKL,IACXC,EAAYI,EAAKD,IAEjB,KAAK,GADDE,GAAc7C,EAAI8C,iBAAiBP,EAAM,QACpCQ,EAAI,EAAGC,EAASH,EAAYpD,OAAYuD,EAAJD,EAAYA,IAAK,CAC5DN,EAAUI,EAAYE,GAAGE,GAAK,IAAMX,CAIpC,KAAK,GADDY,GAAgBlD,EAAI8C,iBAAiB,IAAIN,EAAU,MAAQK,EAAYE,GAAGE,GAAK,MAC1EE,EAAI,EAAGC,EAAmBF,EAAczD,OAAY2D,EAAJD,EAAsBA,IAC7ED,EAAcC,GAAG5C,aAAaiC,EAAW,QAAUC,EAAU,IAE/DI,GAAYE,GAAGE,GAAKR,MAMtBY,EAAiB,SAAUC,EAAeC,EAAeC,GAC3D,GAAIC,EAC8B,oBAAvBD,KAAsCA,GAAsB,KAAM,WAE7E,KAAI,GAAIE,GAAE,EAAGA,EAAEJ,EAAcK,WAAWlE,OAAQiE,IAC9CD,EAAUH,EAAcK,WAAWC,KAAKF,GACpCF,EAAmBnC,QAAQoC,EAAQI,MAAQ,GAC7CN,EAAchD,aAAakD,EAAQI,KAAMJ,EAAQK,QAKnDC,EAAmB,SAAUC,GAC/B,GAAIhE,GAAMtD,EAASuH,gBAAgB3G,EAAQ,MAO3C,OANAsC,GAAQC,KAAKmE,EAAUE,WAAY,SAASC,GAE1CnE,EAAIoE,YAAYD,EAAME,WAAU,MAGlChB,EAAeW,EAAWhE,GACnBA,GAKLsE,EAAoB,SAAUC,EAAUC,EAAaxE,GACvD,GACIyE,GACAC,EACAC,EACAC,EACAC,EAGAC,EARAC,EAAS/E,EAAIK,aAAa,YAAYI,MAAM,KAM5CuE,EAAkBT,EAASU,YAC3BC,EAAa,GAEbC,EAAiB,SAASvC,EAAMf,EAAKuD,GACnCA,EAAIvD,GAAO,IAAM8C,EAAqB,IAAM/B,EAGlD,IAAGmC,EAAOtF,OAAS,EACjBiF,EAAsBK,EAAO,GAC7BJ,EAAqBD,EAAsB,IAAMF,EACjDC,EAAQ,GAAIY,QAAO,MAAQX,EAAsB,IAAK,KACtDH,EAASU,YAAcD,EAAgBjE,QAAQ0D,EAAO,IAAME,EAAqB,SAE9E,CAOH,IANAC,EAAiBG,EAAO,GAAGtE,MAAM,KACjCkE,EAAqBC,EAAeA,EAAenF,OAAO,GAAGsB,QAAQ,OAAQ,IAAM,IAAMyD,EAGzFC,EAAQ,GAAIY,QAAO,6BAA8B,KAEY,QAArDR,EAAoBJ,EAAMa,KAAKN,KAA4B,CACjEF,EAAcD,EAAkB,GAAGU,OAAO9E,MAAM,MAChDqE,EAAYlF,QAAQuF,EACpB,IAAIK,GAAOV,EAAY1C,KAAK,MAAQ,IAAMyC,EAAkB,GAAK,GAEjEK,IAAcM,EAEhBjB,EAASU,YAAcC,EAGzBlF,EAAIO,aAAa,QAAUP,EAAIK,aAAa,SAAW,IAAMsE,IAG3Dc,EAAe,SAAUC,GAC3B,GAAIC,GAAeD,EAAWrF,aAAa,QAC3C,OAAO,GAAiBsF,EAAalF,MAAM,SAGzCH,EAAuB,SAAUR,GACnC,GAAI8F,GAAUH,EAAa3F,GACvBmD,EAAK,EAQT,OAPArD,GAAQC,KAAK+F,EAAS,SAAUC,GAE3BA,EAASxE,QAAQjE,EAAOsB,oBAAsB,IAC/CuE,EAAK4C,EAAS9E,QAAQ3D,EAAOsB,kBAAmB,OAI7CuE,GAGL6C,EAAW,SAAU1I,EAAQ2I,EAAWC,GAE1C,GAAIC,GACFC,EACAC,EACAC,EACAC,EACAC,EACAC,GAAqB,EACrBC,EAAa,IAEf,IAAchH,SAAXwG,EACD,MAAOD,GAAU1B,WAAU,EAI3B,IADA4B,EAAUF,EAAUU,eAAeT,GACnC,CAQA,GAHAI,EAAcH,EAAQ5F,aAAa,WACnC8F,EAAUC,EAAY3F,MAAM,KAExBwF,YAAmBS,kBAErBR,EAASnC,EAAiBkC,GAC1BM,GAAqB,MAGlB,IAAIN,YAAmBU,gBAAgB,CAE1C,GADAH,EAAa,KACTpJ,EAAOmB,sBAAuB,CAChC,GAAIqI,GAAW,YAAcT,EAAQ,GAAK,cAAcA,EAAQ,GAAG,IAEnEE,MACuC,IAAnCQ,KAAKC,IAAIC,SAASZ,EAAQ,KAC5BS,GAAY,aAGZP,EAAuBW,EAAIb,EAAQ,GACnCS,GAAY,OAAST,EAAQ,GAAK,MAGG,IAAnCU,KAAKC,IAAIC,SAASZ,EAAQ,KAC5BS,GAAY,aAGZP,EAAuBY,EAAId,EAAQ,GACnCS,GAAY,OAAST,EAAQ,GAAK,KAEpC,IAAIe,GAAcnB,EAAUjD,iBAAiB8D,EACzCM,GAAYzH,OAAS,EAGzB+G,EAAaU,EAAY,GAE3B,GAAIV,GAAeA,YAAsBW,eAAgB,CACvDjB,EAASM,EAAWnC,WAAU,EAE9B,KAAK,GAAI+C,KAAQf,GACF,UAATe,GAA6B,WAATA,GACtBlB,EAAOmB,gBAAgBD,OAIxB,IAAGZ,GAAeA,YAAsBc,eAAgB,CAE3D,GAAIC,GAAmBxB,EAAUU,eAC/BD,EAAWgB,eAAejK,EAAU,QAAQkK,OAAO,GAErDvB,GAASnC,EAAiBwD,GAC1BnB,EAAcmB,EAAiBlH,aAAa,WAC5C8F,EAAUC,EAAY3F,MAAM,KAC5B8F,GAAqB,MAMrBA,IAAqB,EACrBL,EAASH,EAAU1B,WAAU,GAK7BkC,IACFL,EAAO3F,aAAa,UAAW4F,EAAQ/D,KAAK,MAC5C8D,EAAO3F,aAAa,QAAS4F,EAAQ,GAAG,MACxCD,EAAO3F,aAAa,SAAU4F,EAAQ,GAAG,OAI3CG,EAAeb,EAAaS,EAC5B,IAAIwB,GAAkBtK,EAAO4B,kBAAoBgH,CAKjD,OAJIM,GAAajF,QAAQqG,GAAiB,IACxCpB,EAAa5F,KAAKgH,GAClBxB,EAAO3F,aAAa,QAAS+F,EAAalE,KAAK,OAE1C8D,IAMPyB,EAAe,SAAUC,EAAU5B,EAAQ6B,EAAU5H,GACvD/C,EAAa0K,GAAY1K,EAAa0K,OACtC1K,EAAa0K,GAAUlH,MAAMmH,SAASA,EAAUC,WAAW9B,EAAQlG,QAAQG,KAGzE8H,EAAsB,SAAUC,GAElC,IAAK,GADDC,GACKvE,EAAI,EAAGwE,EAAMhL,EAAa8K,GAAKvI,OAAYyI,EAAJxE,EAASA,KAGvD,SAAWyE,GACTC,WAAW,WACTH,EAAmB/K,EAAa8K,GAAKG,GACrCE,EAAUL,EAAKC,EAAiBH,WAAYG,EAAiBJ,SAAUI,EAAiBnI,UACvF,IACF4D,IAKHpC,EAAU,SAAUpB,EAA2B8H,EAAK/H,GACtD,GAAIqI,GAAQV,EAAU5B,CAMtB,IAJAsC,EAASN,EAAIvH,MAAM,KACnBmH,EAAWU,EAAO,GAClBtC,EAA4B,IAAlBsC,EAAO7I,OAAgB6I,EAAO,GAAK9I,OAElBA,SAAvBxC,EAAS4K,GACP5K,EAAS4K,YAAqBT,eAEhCkB,EAAUT,EAAU5B,EAAQ9F,EAA2BD,GAIvD0H,EAAaC,EAAU5B,EAAQ9F,EAA2BD,OAGzD,CAEH,IAAKxD,EAAO8L,eAEV,MADArI,GAA0B,4CACnB,CAITlD,GAAS4K,MACTD,EAAaC,EAAU5B,EAAQ9F,EAA2BD,EAE1D,IAAIuI,GAAc,GAAID,eAEtBC,GAAYC,mBAAqB,WAE/B,GAA+B,IAA3BD,EAAYE,WAAkB,CAGhC,GAA2B,MAAvBF,EAAYG,QAA8C,OAA5BH,EAAYI,YAS5C,MARA1I,GAA0B,4BAA8B0H,IAQjD,CAIT,MAA2B,MAAvBY,EAAYG,QAAmBtL,EAAIQ,SAAkC,IAAvB2K,EAAYG,QAuC5D,MADAzI,GAA0B,0CAA4CsI,EAAYG,OAAS,IAAMH,EAAYK,aACtG,CArCP,IAAIL,EAAYI,sBAAuBE,UAErC9L,EAAS4K,GAAYY,EAAYI,YAAYG,oBAU1C,IAAIC,WAAcA,oBAAqBC,UAAW,CACrD,GAAIC,EACJ,KACE,GAAIC,GAAS,GAAIH,UACjBE,GAASC,EAAOC,gBAAgBZ,EAAYa,aAAc,YAE5D,MAAOC,GACLJ,EAAS1J,OAGX,IAAK0J,GAAUA,EAAOK,qBAAqB,eAAe9J,OAExD,MADAS,GAA0B,6BAA+B8H,IAClD,CAIPhL,GAAS4K,GAAYsB,EAAOH,gBAKhChB,EAAoBH,KAS1BY,EAAYgB,KAAK,MAAO5B,GAIpBY,EAAYiB,kBAAkBjB,EAAYiB,iBAAiB,YAE/DjB,EAAYkB,SAIZtK,EAAoB,SAAST,GAC/B,GAAIgL,GAAM,OAAShL,EAAoB,yBACrCiL,EAAOlN,EAASkN,MAAQlN,EAAS6M,qBAAqB,QAAQ,GAC9DM,EAAQnN,EAASoN,cAAc,QAEjCD,GAAME,KAAO,WACTF,EAAMG,WACRH,EAAMG,WAAWC,QAAUN,EAG3BE,EAAMzF,YAAY1H,EAASwN,eAAeP,IAE5CC,EAAKxF,YAAYyF,IAIf3K,EAAoB,SAASY,EAASqK,EAAgBnM,GACrDA,EACD8B,EAAQ4B,UAAUX,QAAQoJ,EAAgB,IAG1CrK,EAAQ4B,WAAa,IAAMyI,GAK3B9B,EAAY,SAASL,EAAKF,EAAY5H,EAA2BD,GAEnE,GAAID,GAAM8F,EAAS1I,EAAQJ,EAASgL,GAAMF,EAC1C,IAAmB,mBAAR9H,IAAsC,gBAARA,GAEvC,MADAE,GAA0BF,IACnB,CAGT,IAAIoK,GAAQnK,EAAGI,aAAa,KACxB+J,IACFpK,EAAIO,aAAa,KAAM6J,EAGzB,IAAIC,GAAWpK,EAAGI,aAAa,QAC3BgK,IACFrK,EAAIO,aAAa,QAAS8J,EAI5B,IAAIC,MAAgBC,OAAOvK,EAAIK,aAAa,aAAgB,eAAgBJ,EAAGI,aAAa,cAAgB+B,KAAK,IACjHpC,GAAIO,aAAa,QAAS4B,EAAcmI,GAExC,IAAIE,GAAWvK,EAAGI,aAAa,QAC3BmK,IACFxK,EAAIO,aAAa,QAASiK,EAI5B,IAAIC,MAAaC,OAAO7K,KAAKI,EAAG0D,WAAY,SAAUgH,GACpD,MAAO,mBAAqB/J,KAAK+J,EAAG9G,OAEtCjE,GAAQC,KAAK4K,EAAS,SAAUG,GAC1BA,EAAS/G,MAAQ+G,EAAS9G,OAC5B9D,EAAIO,aAAaqK,EAAS/G,KAAM+G,EAAS9G,QAK7C,IAAI+G,GAAa5K,EAAGI,aAAa,sBAC9BwK,IACD7K,EAAIO,aAAa,sBAAuBsK,GAS1CxI,EAAmBrC,EAAK/C,EAAWkB,OAInC6B,EAAIqH,gBAAgB,UAUpB,KAAK,GAFDyD,GAAQC,EAFRC,EAAUhL,EAAI8C,iBAAiB,UAC/BmI,KAGKC,EAAI,EAAGC,EAAaH,EAAQvL,OAAY0L,EAAJD,EAAgBA,IAC3DH,EAAaC,EAAQE,GAAG7K,aAAa,QAIhC0K,GAA6B,2BAAfA,GAA0D,2BAAfA,IAG5DD,EAASE,EAAQE,GAAGE,WAAaJ,EAAQE,GAAGjG,YAG5CgG,EAAcvK,KAAKoK,GAGnB9K,EAAIqL,YAAYL,EAAQE,IAK5B,IAAID,EAAcxL,OAAS,IAA6B,WAAvBrC,EAAOiB,aAAoD,SAAvBjB,EAAOiB,cAA4BlB,EAAW6K,IAAQ,CACzH,IAAK,GAAIsD,GAAI,EAAGC,EAAmBN,EAAcxL,OAAY8L,EAAJD,EAAsBA,IAQ7E,GAAIrC,UAASgC,EAAcK,IAAI7O,EAIjCU,GAAW6K,IAAO,EAIpB,GAAIwD,GAAYxL,EAAI8C,iBAAiB,QAErClD,GAAQC,KAAK2L,EAAW,SAAUjH,GAChC,GAAIkH,GAAehG,EAAazF,IAC3ByL,EAAapK,QAAQjE,EAAOuB,oBAAoB,GAAKvB,EAAOwB,kBAAqB6M,EAAapK,QAAQjE,EAAOoB,iBAAiB,EAIjI+F,EAASmH,WAAWL,YAAY9G,GAG7BnH,EAAO0B,gBACRwF,EAAkBC,EAAUtH,EAAWkB,MAAO6B,GAQ9CuE,EAASU,aAAe,KAQ9BhF,EAAGyL,WAAWC,aAAa3L,EAAKC,SAIzBhD,GAAWmB,SAASnB,EAAWmB,SAASiD,QAAQpB,IAIvDhD,EAAWkB,QAEX+B,EAA0BF,IAYxBmC,EAAgB,SAASyJ,GAC3BA,EAAOA,EAAKnL,MAAM,IAMlB,KAJA,GAAIoL,MACAnI,EAAIkI,EAAKnM,OACTqM,KAEGpI,KACAmI,EAAKE,eAAeH,EAAKlI,MAC5BmI,EAAKD,EAAKlI,IAAM,EAChBoI,EAAIE,QAAQJ,EAAKlI,IAGrB,OAAOoI,GAAI1J,KAAK,MAGdlB,EAAa,SAAS+K,GACxB,SAAUA,GAAOA,EAAIC,aAAeD,EAAIpM,MAAQoM,EAAIE,QAGlDnL,EAAU,SAASiL,GACrB,MAA+C,mBAAxCG,OAAOxO,UAAUyO,SAASxM,KAAKoM,IAGpC9K,EAAsB,SAASlB,EAAIqM,GACrC,GAAIC,GAAatM,EAAGI,aAAa,QACjCkM,GAAaA,EAAaA,EAAa,GAEpCvL,EAAQsL,KACTA,EAAgBA,EAAclK,KAAK,MAGrCkK,EAAgBC,EAAa,IAAMD,EAEnCrM,EAAGM,aAAa,QAAS4B,EAAcmK,KAOrC1M,EAAU4M,MAAM5O,UAAUgC,SAAW,SAAU6M,EAAIC,GACrD,GAAa,SAAT5P,MAA4B,OAATA,MAA+B,kBAAP2P,GAC7C,KAAM,IAAIE,UAIZ,IAAIjJ,GAAGwE,EAAMpL,KAAK2C,SAAW,CAG7B,KAAKiE,EAAI,EAAOwE,EAAJxE,IAAWA,EACjBA,IAAK5G,OACP2P,EAAG5M,KAAK6M,EAAO5P,KAAK4G,GAAIA,EAAG5G,MAKjC,OAAOH,KAGc,iBAAZiQ,SAETA,QACGC,OAAO,kBACPC,SAAS,qBAAsB,WAC9B,GAAIC,KACJ,QACEC,IAAK,SAAUC,GACbF,EAAeE,GAEjBC,KAAM,WACJ,MAAOH,OAIZI,QAAQ,sBAAuB,qBAAsB,SAAUC,GAE9D,MAAO,IAAIzQ,GAAYyQ,MAExBC,UAAU,OAAQ,qBAAsB,SAASC,GAChD,OACEC,SAAU,IACVC,KAAM,SAAUd,EAAO5M,EAAS2N,GAC9BA,EAAMC,SAAS,QAAS,WACtBJ,EAAmBjO,OAAOS,EAAQ,WAWtB,gBAAX+M,SAAiD,gBAAnBA,QAAOc,QAC9Cd,OAAOc,QAAUhR,EAGQ,kBAAXiR,SAAyBA,OAAOC,IAC9CD,OAAO,WACL,MAAOjR,KAIgB,gBAAXF,KACdA,EAAOE,YAAcA,IAGzBF,OAAQC"}